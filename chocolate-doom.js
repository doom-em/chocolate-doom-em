var Module=void 0!==Module?Module:{},ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="undefined"!=typeof WorkerGlobalScope,ENVIRONMENT_IS_NODE="object"==typeof process&&process.versions?.node&&"renderer"!=process.type,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER,arguments_=(Module.expectedDataFileDownloads??=0,Module.expectedDataFileDownloads++,(()=>{var isNode,isPthread="undefined"!=typeof ENVIRONMENT_IS_PTHREAD&&ENVIRONMENT_IS_PTHREAD,isWasmWorker="undefined"!=typeof ENVIRONMENT_IS_WASM_WORKER&&ENVIRONMENT_IS_WASM_WORKER;isPthread||isWasmWorker||(isNode="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,(async metadata=>{"object"==typeof window?window.encodeURIComponent(window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))+"/"):"undefined"==typeof process&&"undefined"!=typeof location&&encodeURIComponent(location.pathname.substring(0,location.pathname.lastIndexOf("/"))+"/");var fetchedCallback,REMOTE_PACKAGE_NAME=Module.locateFile?.("chocolate-doom.data","")??"chocolate-doom.data",REMOTE_PACKAGE_SIZE=metadata.remote_package_size,fetched=Module.getPreloadedPackage?.(REMOTE_PACKAGE_NAME,REMOTE_PACKAGE_SIZE);async function runWithFS(Module){function assert(check,msg){if(!check)throw new Error(msg)}function DataRequest(start,end,audio){this.start=start,this.end=end,this.audio=audio}DataRequest.prototype={requests:{},open:function(mode,name){this.name=name,this.requests[name]=this,Module.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var byteArray=this.byteArray.subarray(this.start,this.end);this.finish(byteArray)},finish:async function(byteArray){Module.FS_createDataFile(this.name,null,byteArray,!0,!0,!0),Module.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var files=metadata.files,i=0;i<files.length;++i)new DataRequest(files[i].start,files[i].end,files[i].audio||0).open("GET",files[i].filename);function processPackageData(arrayBuffer){assert(arrayBuffer,"Loading data file failed."),assert(arrayBuffer.constructor.name===ArrayBuffer.name,"bad input to processPackageData");for(var arrayBuffer=new Uint8Array(arrayBuffer),files=(DataRequest.prototype.byteArray=arrayBuffer,metadata.files),i=0;i<files.length;++i)DataRequest.prototype.requests[files[i].filename].onload();Module.removeRunDependency("datafile_chocolate-doom.data")}Module.addRunDependency("datafile_chocolate-doom.data"),Module.preloadResults??={},Module.preloadResults["chocolate-doom.data"]={fromCache:!1},fetched?(processPackageData(fetched),fetched=null):fetchedCallback=processPackageData}fetched||(async(packageName,packageSize)=>{if(isNode)return(await require("fs/promises").readFile(packageName)).buffer;Module.dataFileDownloads??={};try{var response=await fetch(packageName)}catch(e){throw new Error("Network Error: "+packageName,{e:e})}if(!response.ok)throw new Error(response.status+": "+response.url);var chunks=[],headers=response.headers,total=Number(headers.get("Content-Length")??packageSize);let loaded=0;Module.setStatus?.("Downloading data...");for(var reader=response.body.getReader();;){var download,{done,value}=await reader.read();if(done)break;chunks.push(value),loaded+=value.length,Module.dataFileDownloads[packageName]={loaded:loaded,total:total};let totalLoaded=0,totalSize=0;for(download of Object.values(Module.dataFileDownloads))totalLoaded+=download.loaded,totalSize+=download.total;Module.setStatus?.(`Downloading data... (${totalLoaded}/${totalSize})`)}var chunk,packageData=new Uint8Array(chunks.map(c=>c.length).reduce((a,b)=>a+b,0));let offset=0;for(chunk of chunks)packageData.set(chunk,offset),offset+=chunk.length;return packageData.buffer})(REMOTE_PACKAGE_NAME,REMOTE_PACKAGE_SIZE).then(data=>{fetchedCallback?(fetchedCallback(data),fetchedCallback=null):fetched=data}),Module.calledRun?runWithFS(Module):(Module.preRun??=[]).push(runWithFS)})({files:[{filename:"/doom1.wad",start:0,end:4196020}],remote_package_size:4196020}))})(),[]),thisProgram="./this.program",quit_=(status,toThrow)=>{throw toThrow},_scriptName="undefined"!=typeof document?document.currentScript?.src:void 0,scriptDirectory=("undefined"!=typeof __filename?_scriptName=__filename:ENVIRONMENT_IS_WORKER&&(_scriptName=self.location.href),"");function locateFile(path){return Module.locateFile?Module.locateFile(path,scriptDirectory):scriptDirectory+path}if(ENVIRONMENT_IS_NODE){var fs=require("fs"),scriptDirectory=__dirname+"/",readBinary=filename=>(filename=isFileURI(filename)?new URL(filename):filename,fs.readFileSync(filename)),readAsync=async(filename,binary=!0)=>(filename=isFileURI(filename)?new URL(filename):filename,fs.readFileSync(filename,binary?void 0:"utf8"));1<process.argv.length&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),quit_=(status,toThrow)=>{throw process.exitCode=status,toThrow}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){try{scriptDirectory=new URL(".",_scriptName).href}catch{}ENVIRONMENT_IS_WORKER&&(readBinary=url=>{var xhr=new XMLHttpRequest;return xhr.open("GET",url,!1),xhr.responseType="arraybuffer",xhr.send(null),new Uint8Array(xhr.response)}),readAsync=async url=>{if(isFileURI(url))return new Promise((resolve,reject)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="arraybuffer",xhr.onload=()=>{200==xhr.status||0==xhr.status&&xhr.response?resolve(xhr.response):reject(xhr.status)},xhr.onerror=reject,xhr.send(null)});var response=await fetch(url,{credentials:"same-origin"});if(response.ok)return response.arrayBuffer();throw new Error(response.status+" : "+response.url)}}var wasmBinary,EXITSTATUS,out=console.log.bind(console),err=console.error.bind(console),ABORT=!1;function assert(condition,text){condition||abort(text)}var wasmMemory,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,HEAP64,HEAPU64,isFileURI=filename=>filename.startsWith("file://"),runtimeInitialized=!1;function updateMemoryViews(){var b=wasmMemory.buffer;HEAP8=new Int8Array(b),HEAP16=new Int16Array(b),HEAPU8=new Uint8Array(b),HEAPU16=new Uint16Array(b),HEAP32=new Int32Array(b),HEAPU32=new Uint32Array(b),HEAPF32=new Float32Array(b),HEAPF64=new Float64Array(b),HEAP64=new BigInt64Array(b),HEAPU64=new BigUint64Array(b)}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(onPreRuns)}function initRuntime(){runtimeInitialized=!0,Module.noFSInit||FS.initialized||FS.init(),TTY.init(),SOCKFS.root=FS.mount(SOCKFS,{},null),wasmExports.__wasm_call_ctors(),FS.ignorePermissions=!1}function preMain(){}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(onPostRuns)}var wasmBinaryFile,runDependencies=0,dependenciesFulfilled=null;function addRunDependency(id){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}function removeRunDependency(id){var callback;runDependencies--,Module.monitorRunDependencies?.(runDependencies),0==runDependencies&&dependenciesFulfilled&&(callback=dependenciesFulfilled,dependenciesFulfilled=null,callback())}function abort(what){throw Module.onAbort?.(what),err(what="Aborted("+what+")"),ABORT=!0,what+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(what)}function findWasmBinary(){return locateFile("chocolate-doom.wasm")}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(file);throw"both async and sync fetching of the wasm failed"}async function getWasmBinary(binaryFile){if(!wasmBinary)try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);return await WebAssembly.instantiate(binary,imports)}catch(reason){err("failed to asynchronously prepare wasm: "+reason),abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE)try{var response=fetch(binaryFile,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(response,imports)}catch(reason){err("wasm streaming compile failed: "+reason),err("falling back to ArrayBuffer instantiation")}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports}}async function createWasm(){function receiveInstance(instance){return wasmExports=instance.exports,wasmExports=Asyncify.instrumentWasmExports(wasmExports),wasmMemory=wasmExports.memory,updateMemoryViews(),assignWasmExports(wasmExports),removeRunDependency("wasm-instantiate"),wasmExports}addRunDependency("wasm-instantiate");var info=getWasmImports();return Module.instantiateWasm?new Promise((resolve,reject)=>{Module.instantiateWasm(info,(mod,inst)=>{resolve(receiveInstance(mod))})}):(wasmBinaryFile??=findWasmBinary(),(result=>receiveInstance(result.instance))(await instantiateAsync(wasmBinary,wasmBinaryFile,info)))}class ExitStatus{name="ExitStatus";constructor(status){this.message=`Program terminated with exit(${status})`,this.status=status}}var callRuntimeCallbacks=callbacks=>{for(;0<callbacks.length;)callbacks.shift()(Module)},onPostRuns=[],addOnPostRun=cb=>onPostRuns.push(cb),onPreRuns=[],addOnPreRun=cb=>onPreRuns.push(cb),dynCalls={},dynCallLegacy=(sig,ptr,args)=>(sig=sig.replace(/p/g,"i"),(0,dynCalls[sig])(ptr,...args)),dynCall=(sig,ptr,args=[],promising)=>dynCallLegacy(sig,ptr,args);function getValue(ptr,type="i8"){switch(type=type.endsWith("*")?"*":type){case"i1":case"i8":return HEAP8[ptr];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":return HEAP64[ptr>>3];case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type)}}var noExitRuntime=!0;function setValue(ptr,value,type="i8"){switch(type=type.endsWith("*")?"*":type){case"i1":case"i8":HEAP8[ptr]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":HEAP64[ptr>>3]=BigInt(value);break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;case"*":HEAPU32[ptr>>2]=value;break;default:abort("invalid type for setValue: "+type)}}var stackRestore=val=>__emscripten_stack_restore(val),stackSave=()=>_emscripten_stack_get_current(),UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder:void 0,findStringEnd=(heapOrArray,idx,maxBytesToRead,ignoreNul)=>{var maxIdx=idx+maxBytesToRead;if(ignoreNul)return maxIdx;for(;heapOrArray[idx]&&!(maxIdx<=idx);)++idx;return idx},UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead,ignoreNul)=>{var endPtr=findStringEnd(heapOrArray,idx,maxBytesToRead,ignoreNul);if(16<endPtr-idx&&heapOrArray.buffer&&UTF8Decoder)return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));for(var str="";idx<endPtr;){var u2,u1,u0=heapOrArray[idx++];128&u0?(u1=63&heapOrArray[idx++],192==(224&u0)?str+=String.fromCharCode((31&u0)<<6|u1):(u2=63&heapOrArray[idx++],(u0=224==(240&u0)?(15&u0)<<12|u1<<6|u2:(7&u0)<<18|u1<<12|u2<<6|63&heapOrArray[idx++])<65536?str+=String.fromCharCode(u0):(u1=u0-65536,str+=String.fromCharCode(55296|u1>>10,56320|1023&u1)))):str+=String.fromCharCode(u0)}return str},UTF8ToString=(ptr,maxBytesToRead,ignoreNul)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead,ignoreNul):"",___assert_fail=(condition,filename,line,func)=>abort(`Assertion failed: ${UTF8ToString(condition)}, at: `+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]),PATH={isAbs:path=>"/"===path.charAt(0),splitPath:filename=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(filename).slice(1),normalizeArray:(parts,allowAboveRoot)=>{for(var up=0,i=parts.length-1;0<=i;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up;up--)parts.unshift("..");return parts},normalize:path=>{var isAbsolute=PATH.isAbs(path),trailingSlash="/"===path.slice(-1);return(path=(path=PATH.normalizeArray(path.split("/").filter(p=>!!p),!isAbsolute).join("/"))||isAbsolute?path:".")&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},dirname:path=>{var path=PATH.splitPath(path),root=path[0],path=path[1];return root||path?root+(path=path&&path.slice(0,-1)):"."},basename:path=>path&&path.match(/([^\/]+|\/)\/*$/)[1],join:(...paths)=>PATH.normalize(paths.join("/")),join2:(l,r)=>PATH.normalize(l+"/"+r)},initRandomFill=()=>{var nodeCrypto;return ENVIRONMENT_IS_NODE?(nodeCrypto=require("crypto"),view=>nodeCrypto.randomFillSync(view)):view=>crypto.getRandomValues(view)},randomFill=view=>{(randomFill=initRandomFill())(view)},PATH_FS={resolve:(...args)=>{for(var resolvedPath="",resolvedAbsolute=!1,i=args.length-1;-1<=i&&!resolvedAbsolute;i--){var path=0<=i?args[i]:FS.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");if(!path)return"";resolvedPath=path+"/"+resolvedPath,resolvedAbsolute=PATH.isAbs(path)}return(resolvedAbsolute?"/":"")+(resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(p=>!!p),!resolvedAbsolute).join("/"))||"."},relative:(from,to)=>{function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;0<=end&&""===arr[end];end--);return end<start?[]:arr.slice(start,end-start+1)}from=PATH_FS.resolve(from).slice(1),to=PATH_FS.resolve(to).slice(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("/")}},FS_stdin_getChar_buffer=[],lengthBytesUTF8=str=>{for(var len=0,i=0;i<str.length;++i){var c=str.charCodeAt(i);c<=127?len++:c<=2047?len+=2:55296<=c&&c<=57343?(len+=4,++i):len+=3}return len},stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(0<maxBytesToWrite))return 0;for(var startIdx=outIdx,endIdx=outIdx+maxBytesToWrite-1,i=0;i<str.length;++i){var u=str.codePointAt(i);if(u<=127){if(endIdx<=outIdx)break;heap[outIdx++]=u}else if(u<=2047){if(endIdx<=outIdx+1)break;heap[outIdx++]=192|u>>6,heap[outIdx++]=128|63&u}else if(u<=65535){if(endIdx<=outIdx+2)break;heap[outIdx++]=224|u>>12,heap[outIdx++]=128|u>>6&63,heap[outIdx++]=128|63&u}else{if(endIdx<=outIdx+3)break;heap[outIdx++]=240|u>>18,heap[outIdx++]=128|u>>12&63,heap[outIdx++]=128|u>>6&63,heap[outIdx++]=128|63&u,i++}}return heap[outIdx]=0,outIdx-startIdx},intArrayFromString=(stringy,dontAddNull,length)=>{length=0<length?length:lengthBytesUTF8(stringy)+1,length=new Array(length),stringy=stringToUTF8Array(stringy,length,0,length.length);return dontAddNull&&(length.length=stringy),length},FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var result=null;if(ENVIRONMENT_IS_NODE){var buf=Buffer.alloc(256),bytesRead=0,fd=process.stdin.fd;try{bytesRead=fs.readSync(fd,buf,0,256)}catch(e){if(!e.toString().includes("EOF"))throw e;bytesRead=0}0<bytesRead&&(result=buf.slice(0,bytesRead).toString("utf-8"))}else"undefined"!=typeof window&&"function"==typeof window.prompt&&null!==(result=window.prompt("Input: "))&&(result+="\n");if(!result)return null;FS_stdin_getChar_buffer=intArrayFromString(result,!0)}return FS_stdin_getChar_buffer.shift()},TTY={ttys:[],init(){},shutdown(){},register(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops},FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty)throw new FS.ErrnoError(43);stream.tty=tty,stream.seekable=!1},close(stream){stream.tty.ops.fsync(stream.tty)},fsync(stream){stream.tty.ops.fsync(stream.tty)},read(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char)throw new FS.ErrnoError(60);for(var result,bytesRead=0,i=0;i<length;i++){try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(void 0===result&&0===bytesRead)throw new FS.ErrnoError(6);if(null==result)break;bytesRead++,buffer[offset+i]=result}return bytesRead&&(stream.node.atime=Date.now()),bytesRead},write(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char)throw new FS.ErrnoError(60);try{for(var i=0;i<length;i++)stream.tty.ops.put_char(stream.tty,buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}return length&&(stream.node.mtime=stream.node.ctime=Date.now()),i}},default_tty_ops:{get_char(tty){return FS_stdin_getChar()},put_char(tty,val){null===val||10===val?(out(UTF8ArrayToString(tty.output)),tty.output=[]):0!=val&&tty.output.push(val)},fsync(tty){0<tty.output?.length&&(out(UTF8ArrayToString(tty.output)),tty.output=[])},ioctl_tcgets(tty){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(tty,optional_actions,data){return 0},ioctl_tiocgwinsz(tty){return[24,80]}},default_tty1_ops:{put_char(tty,val){null===val||10===val?(err(UTF8ArrayToString(tty.output)),tty.output=[]):0!=val&&tty.output.push(val)},fsync(tty){0<tty.output?.length&&(err(UTF8ArrayToString(tty.output)),tty.output=[])}}},zeroMemory=(ptr,size)=>HEAPU8.fill(0,ptr,ptr+size),alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment,mmapAlloc=size=>{size=alignMemory(size,65536);var ptr=_emscripten_builtin_memalign(65536,size);return ptr&&zeroMemory(ptr,size),ptr},MEMFS={ops_table:null,mount(mount){return MEMFS.createNode(null,"/",16895,0)},createNode(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode))throw new FS.ErrnoError(63);MEMFS.ops_table||={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}};mode=FS.createNode(parent,name,mode,dev);return FS.isDir(mode.mode)?(mode.node_ops=MEMFS.ops_table.dir.node,mode.stream_ops=MEMFS.ops_table.dir.stream,mode.contents={}):FS.isFile(mode.mode)?(mode.node_ops=MEMFS.ops_table.file.node,mode.stream_ops=MEMFS.ops_table.file.stream,mode.usedBytes=0,mode.contents=null):FS.isLink(mode.mode)?(mode.node_ops=MEMFS.ops_table.link.node,mode.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(mode.mode)&&(mode.node_ops=MEMFS.ops_table.chrdev.node,mode.stream_ops=MEMFS.ops_table.chrdev.stream),mode.atime=mode.mtime=mode.ctime=Date.now(),parent&&(parent.contents[name]=mode,parent.atime=parent.mtime=parent.ctime=mode.atime),mode},getFileDataAsTypedArray(node){return node.contents?node.contents.subarray?node.contents.subarray(0,node.usedBytes):new Uint8Array(node.contents):new Uint8Array(0)},expandFileStorage(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;newCapacity<=prevCapacity||(newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<1048576?2:1.125)>>>0),0!=prevCapacity&&(newCapacity=Math.max(newCapacity,256)),prevCapacity=node.contents,node.contents=new Uint8Array(newCapacity),0<node.usedBytes&&node.contents.set(prevCapacity.subarray(0,node.usedBytes),0))},resizeFileStorage(node,newSize){var oldContents;node.usedBytes!=newSize&&(0==newSize?(node.contents=null,node.usedBytes=0):(oldContents=node.contents,node.contents=new Uint8Array(newSize),oldContents&&node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes))),node.usedBytes=newSize))},node_ops:{getattr(node){var attr={};return attr.dev=FS.isChrdev(node.mode)?node.id:1,attr.ino=node.id,attr.mode=node.mode,attr.nlink=1,attr.uid=0,attr.gid=0,attr.rdev=node.rdev,FS.isDir(node.mode)?attr.size=4096:FS.isFile(node.mode)?attr.size=node.usedBytes:FS.isLink(node.mode)?attr.size=node.link.length:attr.size=0,attr.atime=new Date(node.atime),attr.mtime=new Date(node.mtime),attr.ctime=new Date(node.ctime),attr.blksize=4096,attr.blocks=Math.ceil(attr.size/attr.blksize),attr},setattr(node,attr){for(var key of["mode","atime","mtime","ctime"])null!=attr[key]&&(node[key]=attr[key]);void 0!==attr.size&&MEMFS.resizeFileStorage(node,attr.size)},lookup(parent,name){throw MEMFS.doesNotExistError||(MEMFS.doesNotExistError=new FS.ErrnoError(44),MEMFS.doesNotExistError.stack="<generic error, no stack>"),MEMFS.doesNotExistError},mknod(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename(old_node,new_dir,new_name){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){if(FS.isDir(old_node.mode))for(var i in new_node.contents)throw new FS.ErrnoError(55);FS.hashRemoveNode(new_node)}delete old_node.parent.contents[old_node.name],(new_dir.contents[new_name]=old_node).name=new_name,new_dir.ctime=new_dir.mtime=old_node.parent.ctime=old_node.parent.mtime=Date.now()},unlink(parent,name){delete parent.contents[name],parent.ctime=parent.mtime=Date.now()},rmdir(parent,name){for(var i in FS.lookupNode(parent,name).contents)throw new FS.ErrnoError(55);delete parent.contents[name],parent.ctime=parent.mtime=Date.now()},readdir(node){return[".","..",...Object.keys(node.contents)]},symlink(parent,newname,oldpath){parent=MEMFS.createNode(parent,newname,41471,0);return parent.link=oldpath,parent},readlink(node){if(FS.isLink(node.mode))return node.link;throw new FS.ErrnoError(28)}},stream_ops:{read(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);if(8<size&&contents.subarray)buffer.set(contents.subarray(position,position+size),offset);else for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i];return size},write(stream,buffer,offset,length,position,canOwn){if(buffer.buffer===HEAP8.buffer&&(canOwn=!1),!length)return 0;var node=stream.node;if(node.mtime=node.ctime=Date.now(),buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn)return node.contents=buffer.subarray(offset,offset+length),node.usedBytes=length;if(0===node.usedBytes&&0===position)return node.contents=buffer.slice(offset,offset+length),node.usedBytes=length;if(position+length<=node.usedBytes)return node.contents.set(buffer.subarray(offset,offset+length),position),length}if(MEMFS.expandFileStorage(node,position+length),node.contents.subarray&&buffer.subarray)node.contents.set(buffer.subarray(offset,offset+length),position);else for(var i=0;i<length;i++)node.contents[position+i]=buffer[offset+i];return node.usedBytes=Math.max(node.usedBytes,position+length),length},llseek(stream,offset,whence){if(1===whence?offset+=stream.position:2===whence&&FS.isFile(stream.node.mode)&&(offset+=stream.node.usedBytes),offset<0)throw new FS.ErrnoError(28);return offset},mmap(stream,length,position,prot,flags){if(!FS.isFile(stream.node.mode))throw new FS.ErrnoError(43);var ptr,allocated,stream=stream.node.contents;if(2&flags||!stream||stream.buffer!==HEAP8.buffer){if(allocated=!0,!(ptr=mmapAlloc(length)))throw new FS.ErrnoError(48);stream&&((0<position||position+length<stream.length)&&(stream=stream.subarray?stream.subarray(position,position+length):Array.prototype.slice.call(stream,position,position+length)),HEAP8.set(stream,ptr))}else allocated=!1,ptr=stream.byteOffset;return{ptr:ptr,allocated:allocated}},msync(stream,buffer,offset,length,mmapFlags){return MEMFS.stream_ops.write(stream,buffer,0,length,offset,!1),0}}},FS_modeStringToFlags=str=>{var flags={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[str];if(void 0===flags)throw new Error("Unknown file open mode: "+str);return flags},FS_getMode=(canRead,canWrite)=>{var mode=0;return canRead&&(mode|=365),canWrite&&(mode|=146),mode},asyncLoad=async url=>{url=await readAsync(url);return new Uint8Array(url)},FS_createDataFile=(...args)=>FS.createDataFile(...args),getUniqueRunDependency=id=>id,preloadPlugins=[],FS_handledByPreloadPlugin=async(byteArray,fullname)=>{void 0!==Browser&&Browser.init();for(var plugin of preloadPlugins)if(plugin.canHandle(fullname))return plugin.handle(byteArray,fullname);return byteArray},FS_preloadFile=async(parent,name,url,canRead,canWrite,dontCreateFile,canOwn,preFinish)=>{var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent,dep=getUniqueRunDependency("cp "+fullname);addRunDependency(dep);try{var byteArray=url;"string"==typeof url&&(byteArray=await asyncLoad(url)),byteArray=await FS_handledByPreloadPlugin(byteArray,fullname),preFinish?.(),dontCreateFile||FS_createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}finally{removeRunDependency(dep)}},FS_createPreloadedFile=(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish)=>{FS_preloadFile(parent,name,url,canRead,canWrite,dontCreateFile,canOwn,preFinish).then(onload).catch(onerror)},FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(errno){this.errno=errno}},FSStream:class{shared={};get object(){return this.node}set object(val){this.node=val}get isRead(){return 1!=(2097155&this.flags)}get isWrite(){return 0!=(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(val){this.shared.flags=val}get position(){return this.shared.position}set position(val){this.shared.position=val}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(parent,name,mode,rdev){this.parent=parent=parent||this,this.mount=parent.mount,this.id=FS.nextInode++,this.name=name,this.mode=mode,this.rdev=rdev,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(val){val?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(val){val?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return FS.isDir(this.mode)}get isDevice(){return FS.isChrdev(this.mode)}},lookupPath(path,opts={}){if(!path)throw new FS.ErrnoError(44);opts.follow_mount??=!0,PATH.isAbs(path)||(path=FS.cwd()+"/"+path);linkloop:for(var nlinks=0;nlinks<40;nlinks++){for(var parts=path.split("/").filter(p=>!!p),current=FS.root,current_path="/",i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent)break;if("."!==parts[i])if(".."===parts[i]){if(current_path=PATH.dirname(current_path),FS.isRoot(current)){path=current_path+"/"+parts.slice(i+1).join("/"),nlinks--;continue linkloop}current=current.parent}else{current_path=PATH.join2(current_path,parts[i]);try{current=FS.lookupNode(current,parts[i])}catch(e){if(44===e?.errno&&islast&&opts.noent_okay)return{path:current_path};throw e}if(!FS.isMountpoint(current)||islast&&!opts.follow_mount||(current=current.mounted.root),FS.isLink(current.mode)&&(!islast||opts.follow)){if(!current.node_ops.readlink)throw new FS.ErrnoError(52);islast=current.node_ops.readlink(current);path=(islast=PATH.isAbs(islast)?islast:PATH.dirname(current_path)+"/"+islast)+"/"+parts.slice(i+1).join("/");continue linkloop}}}return{path:current_path,node:current}}throw new FS.ErrnoError(32)},getPath(node){for(var path,mount;;){if(FS.isRoot(node))return mount=node.mount.mountpoint,path?"/"!==mount[mount.length-1]?mount+"/"+path:mount+path:mount;path=path?node.name+"/"+path:node.name,node=node.parent}},hashName(parentid,name){for(var hash=0,i=0;i<name.length;i++)hash=(hash<<5)-hash+name.charCodeAt(i)|0;return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash],FS.nameTable[hash]=node},hashRemoveNode(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node)FS.nameTable[hash]=node.name_next;else for(var current=FS.nameTable[hash];current;){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}},lookupNode(parent,name){var errCode=FS.mayLookup(parent);if(errCode)throw new FS.ErrnoError(errCode);for(var errCode=FS.hashName(parent.id,name),node=FS.nameTable[errCode];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name)return node}return FS.lookup(parent,name)},createNode(parent,name,mode,rdev){parent=new FS.FSNode(parent,name,mode,rdev);return FS.hashAddNode(parent),parent},destroyNode(node){FS.hashRemoveNode(node)},isRoot(node){return node===node.parent},isMountpoint(node){return!!node.mounted},isFile(mode){return 32768==(61440&mode)},isDir(mode){return 16384==(61440&mode)},isLink(mode){return 40960==(61440&mode)},isChrdev(mode){return 8192==(61440&mode)},isBlkdev(mode){return 24576==(61440&mode)},isFIFO(mode){return 4096==(61440&mode)},isSocket(mode){return 49152==(49152&mode)},flagsToPermissionString(flag){var perms=["r","w","rw"][3&flag];return 512&flag&&(perms+="w"),perms},nodePermissions(node,perms){return FS.ignorePermissions||(!perms.includes("r")||292&node.mode)&&(!perms.includes("w")||146&node.mode)&&(!perms.includes("x")||73&node.mode)?0:2},mayLookup(dir){return FS.isDir(dir.mode)?FS.nodePermissions(dir,"x")||(dir.node_ops.lookup?0:2):54},mayCreate(dir,name){if(!FS.isDir(dir.mode))return 54;try{FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}name=FS.nodePermissions(dir,"wx");if(name)return name;if(isdir){if(!FS.isDir(node.mode))return 54;if(FS.isRoot(node)||FS.getPath(node)===FS.cwd())return 10}else if(FS.isDir(node.mode))return 31;return 0},mayOpen(node,flags){return node?FS.isLink(node.mode)?32:FS.isDir(node.mode)&&("r"!==FS.flagsToPermissionString(flags)||576&flags)?31:FS.nodePermissions(node,FS.flagsToPermissionString(flags)):44},checkOpExists(op,err){if(op)return op;throw new FS.ErrnoError(err)},MAX_OPEN_FDS:4096,nextfd(){for(var fd=0;fd<=FS.MAX_OPEN_FDS;fd++)if(!FS.streams[fd])return fd;throw new FS.ErrnoError(33)},getStreamChecked(fd){fd=FS.getStream(fd);if(fd)return fd;throw new FS.ErrnoError(8)},getStream:fd=>FS.streams[fd],createStream(stream,fd=-1){return stream=Object.assign(new FS.FSStream,stream),-1==fd&&(fd=FS.nextfd()),stream.fd=fd,FS.streams[fd]=stream},closeStream(fd){FS.streams[fd]=null},dupStream(origStream,fd=-1){origStream=FS.createStream(origStream,fd);return origStream.stream_ops?.dup?.(origStream),origStream},doSetAttr(stream,node,attr){var setattr=stream?.stream_ops.setattr,stream=setattr?stream:node;setattr??=node.node_ops.setattr,FS.checkOpExists(setattr,63),setattr(stream,attr)},chrdev_stream_ops:{open(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops,stream.stream_ops.open?.(stream)},llseek(){throw new FS.ErrnoError(70)}},major:dev=>dev>>8,minor:dev=>255&dev,makedev:(ma,mi)=>ma<<8|mi,registerDevice(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:dev=>FS.devices[dev],getMounts(mount){for(var mounts=[],check=[mount];check.length;){var m=check.pop();mounts.push(m),check.push(...m.mounts)}return mounts},syncfs(populate,callback){"function"==typeof populate&&(callback=populate,populate=!1),FS.syncFSRequests++,1<FS.syncFSRequests&&err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var mounts=FS.getMounts(FS.root.mount),completed=0;function doCallback(errCode){return FS.syncFSRequests--,callback(errCode)}function done(errCode){if(errCode)return done.errored?void 0:(done.errored=!0,doCallback(errCode));++completed>=mounts.length&&doCallback(null)}mounts.forEach(mount=>{if(!mount.type.syncfs)return done(null);mount.type.syncfs(mount,populate,done)})},mount(type,opts,mountpoint){var node,root="/"===mountpoint,pseudo=!mountpoint;if(root&&FS.root)throw new FS.ErrnoError(10);if(!root&&!pseudo){pseudo=FS.lookupPath(mountpoint,{follow_mount:!1});if(mountpoint=pseudo.path,FS.isMountpoint(node=pseudo.node))throw new FS.ErrnoError(10);if(!FS.isDir(node.mode))throw new FS.ErrnoError(54)}pseudo={type:type,opts:opts,mountpoint:mountpoint,mounts:[]},opts=type.mount(pseudo);return(opts.mount=pseudo).root=opts,root?FS.root=opts:node&&(node.mounted=pseudo,node.mount)&&node.mount.mounts.push(pseudo),opts},unmount(mountpoint){mountpoint=FS.lookupPath(mountpoint,{follow_mount:!1});if(!FS.isMountpoint(mountpoint.node))throw new FS.ErrnoError(28);var mountpoint=mountpoint.node,mount=mountpoint.mounted,mounts=FS.getMounts(mount),mount=(Object.keys(FS.nameTable).forEach(hash=>{for(var current=FS.nameTable[hash];current;){var next=current.name_next;mounts.includes(current.mount)&&FS.destroyNode(current),current=next}}),mountpoint.mounted=null,mountpoint.mount.mounts.indexOf(mount));mountpoint.mount.mounts.splice(mount,1)},lookup(parent,name){return parent.node_ops.lookup(parent,name)},mknod(path,mode,dev){var parent=FS.lookupPath(path,{parent:!0}).node,path=PATH.basename(path);if(!path)throw new FS.ErrnoError(28);if("."===path||".."===path)throw new FS.ErrnoError(20);var errCode=FS.mayCreate(parent,path);if(errCode)throw new FS.ErrnoError(errCode);if(parent.node_ops.mknod)return parent.node_ops.mknod(parent,path,mode,dev);throw new FS.ErrnoError(63)},statfs(path){return FS.statfsNode(FS.lookupPath(path,{follow:!0}).node)},statfsStream(stream){return FS.statfsNode(stream.node)},statfsNode(node){var rtn={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:FS.nextInode,ffree:FS.nextInode-1,fsid:42,flags:2,namelen:255};return node.node_ops.statfs&&Object.assign(rtn,node.node_ops.statfs(node.mount.opts.root)),rtn},create(path,mode=438){return FS.mknod(path,mode=mode&4095|32768,0)},mkdir(path,mode=511){return FS.mknod(path,mode=mode&1023|16384,0)},mkdirTree(path,mode){var dir,d="";for(dir of path.split("/"))if(dir){(d||PATH.isAbs(path))&&(d+="/"),d+=dir;try{FS.mkdir(d,mode)}catch(e){if(20!=e.errno)throw e}}},mkdev(path,mode,dev){return void 0===dev&&(dev=mode,mode=438),FS.mknod(path,mode|=8192,dev)},symlink(oldpath,newpath){if(!PATH_FS.resolve(oldpath))throw new FS.ErrnoError(44);var parent=FS.lookupPath(newpath,{parent:!0}).node;if(!parent)throw new FS.ErrnoError(44);var newpath=PATH.basename(newpath),errCode=FS.mayCreate(parent,newpath);if(errCode)throw new FS.ErrnoError(errCode);if(parent.node_ops.symlink)return parent.node_ops.symlink(parent,newpath,oldpath);throw new FS.ErrnoError(63)},rename(old_path,new_path){var old_dirname=PATH.dirname(old_path),new_dirname=PATH.dirname(new_path),old_name=PATH.basename(old_path),new_name=PATH.basename(new_path),lookup=FS.lookupPath(old_path,{parent:!0}),lookup=lookup.node,new_dir=FS.lookupPath(new_path,{parent:!0}).node;if(!lookup||!new_dir)throw new FS.ErrnoError(44);if(lookup.mount!==new_dir.mount)throw new FS.ErrnoError(75);var new_node,old_node=FS.lookupNode(lookup,old_name),old_path=PATH_FS.relative(old_path,new_dirname);if("."!==old_path.charAt(0))throw new FS.ErrnoError(28);if("."!==(old_path=PATH_FS.relative(new_path,old_dirname)).charAt(0))throw new FS.ErrnoError(55);try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node!==new_node){new_dirname=FS.isDir(old_node.mode),new_path=FS.mayDelete(lookup,old_name,new_dirname);if(new_path)throw new FS.ErrnoError(new_path);if(new_path=new_node?FS.mayDelete(new_dir,new_name,new_dirname):FS.mayCreate(new_dir,new_name))throw new FS.ErrnoError(new_path);if(!lookup.node_ops.rename)throw new FS.ErrnoError(63);if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node))throw new FS.ErrnoError(10);if(new_dir!==lookup&&(new_path=FS.nodePermissions(lookup,"w")))throw new FS.ErrnoError(new_path);FS.hashRemoveNode(old_node);try{lookup.node_ops.rename(old_node,new_dir,new_name),old_node.parent=new_dir}catch(e){throw e}finally{FS.hashAddNode(old_node)}}},rmdir(path){var parent=FS.lookupPath(path,{parent:!0}).node,path=PATH.basename(path),node=FS.lookupNode(parent,path),errCode=FS.mayDelete(parent,path,!0);if(errCode)throw new FS.ErrnoError(errCode);if(!parent.node_ops.rmdir)throw new FS.ErrnoError(63);if(FS.isMountpoint(node))throw new FS.ErrnoError(10);parent.node_ops.rmdir(parent,path),FS.destroyNode(node)},readdir(path){path=FS.lookupPath(path,{follow:!0}).node;return FS.checkOpExists(path.node_ops.readdir,54)(path)},unlink(path){var parent=FS.lookupPath(path,{parent:!0}).node;if(!parent)throw new FS.ErrnoError(44);var path=PATH.basename(path),node=FS.lookupNode(parent,path),errCode=FS.mayDelete(parent,path,!1);if(errCode)throw new FS.ErrnoError(errCode);if(!parent.node_ops.unlink)throw new FS.ErrnoError(63);if(FS.isMountpoint(node))throw new FS.ErrnoError(10);parent.node_ops.unlink(parent,path),FS.destroyNode(node)},readlink(path){path=FS.lookupPath(path).node;if(!path)throw new FS.ErrnoError(44);if(path.node_ops.readlink)return path.node_ops.readlink(path);throw new FS.ErrnoError(28)},stat(path,dontFollow){path=FS.lookupPath(path,{follow:!dontFollow}).node;return FS.checkOpExists(path.node_ops.getattr,63)(path)},fstat(fd){var fd=FS.getStreamChecked(fd),node=fd.node,getattr=fd.stream_ops.getattr,fd=getattr?fd:node;return getattr??=node.node_ops.getattr,FS.checkOpExists(getattr,63),getattr(fd)},lstat(path){return FS.stat(path,!0)},doChmod(stream,node,mode,dontFollow){FS.doSetAttr(stream,node,{mode:4095&mode|-4096&node.mode,ctime:Date.now(),dontFollow:dontFollow})},chmod(path,mode,dontFollow){path="string"==typeof path?FS.lookupPath(path,{follow:!dontFollow}).node:path,FS.doChmod(null,path,mode,dontFollow)},lchmod(path,mode){FS.chmod(path,mode,!0)},fchmod(fd,mode){fd=FS.getStreamChecked(fd);FS.doChmod(fd,fd.node,mode,!1)},doChown(stream,node,dontFollow){FS.doSetAttr(stream,node,{timestamp:Date.now(),dontFollow:dontFollow})},chown(path,uid,gid,dontFollow){path="string"==typeof path?FS.lookupPath(path,{follow:!dontFollow}).node:path,FS.doChown(null,path,dontFollow)},lchown(path,uid,gid){FS.chown(path,uid,gid,!0)},fchown(fd,uid,gid){fd=FS.getStreamChecked(fd);FS.doChown(fd,fd.node,!1)},doTruncate(stream,node,len){if(FS.isDir(node.mode))throw new FS.ErrnoError(31);if(!FS.isFile(node.mode))throw new FS.ErrnoError(28);var errCode=FS.nodePermissions(node,"w");if(errCode)throw new FS.ErrnoError(errCode);FS.doSetAttr(stream,node,{size:len,timestamp:Date.now()})},truncate(path,len){if(len<0)throw new FS.ErrnoError(28);path="string"==typeof path?FS.lookupPath(path,{follow:!0}).node:path,FS.doTruncate(null,path,len)},ftruncate(fd,len){fd=FS.getStreamChecked(fd);if(len<0||0==(2097155&fd.flags))throw new FS.ErrnoError(28);FS.doTruncate(fd,fd.node,len)},utime(path,atime,mtime){path=FS.lookupPath(path,{follow:!0}).node;FS.checkOpExists(path.node_ops.setattr,63)(path,{atime:atime,mtime:mtime})},open(path,flags,mode=438){if(""===path)throw new FS.ErrnoError(44);mode=64&(flags="string"==typeof flags?FS_modeStringToFlags(flags):flags)?4095&mode|32768:0,"object"==typeof path?node=path:(isDirPath=path.endsWith("/"),node=(lookup=FS.lookupPath(path,{follow:!(131072&flags),noent_okay:!0})).node,path=lookup.path);var node,lookup=!1;if(64&flags)if(node){if(128&flags)throw new FS.ErrnoError(20)}else{if(isDirPath)throw new FS.ErrnoError(31);node=FS.mknod(path,511|mode,0),lookup=!0}if(!node)throw new FS.ErrnoError(44);if(FS.isChrdev(node.mode)&&(flags&=-513),65536&flags&&!FS.isDir(node.mode))throw new FS.ErrnoError(54);if(!lookup){var isDirPath=FS.mayOpen(node,flags);if(isDirPath)throw new FS.ErrnoError(isDirPath)}512&flags&&!lookup&&FS.truncate(node,0),flags&=-131713;isDirPath=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:!0,position:0,stream_ops:node.stream_ops,ungotten:[],error:!1});return isDirPath.stream_ops.open&&isDirPath.stream_ops.open(isDirPath),lookup&&FS.chmod(node,511&mode),!Module.logReadFiles||1&flags||path in FS.readFiles||(FS.readFiles[path]=1),isDirPath},close(stream){if(FS.isClosed(stream))throw new FS.ErrnoError(8);stream.getdents&&(stream.getdents=null);try{stream.stream_ops.close&&stream.stream_ops.close(stream)}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed(stream){return null===stream.fd},llseek(stream,offset,whence){if(FS.isClosed(stream))throw new FS.ErrnoError(8);if(!stream.seekable||!stream.stream_ops.llseek)throw new FS.ErrnoError(70);if(0!=whence&&1!=whence&&2!=whence)throw new FS.ErrnoError(28);return stream.position=stream.stream_ops.llseek(stream,offset,whence),stream.ungotten=[],stream.position},read(stream,buffer,offset,length,position){if(length<0||position<0)throw new FS.ErrnoError(28);if(FS.isClosed(stream))throw new FS.ErrnoError(8);if(1==(2097155&stream.flags))throw new FS.ErrnoError(8);if(FS.isDir(stream.node.mode))throw new FS.ErrnoError(31);if(!stream.stream_ops.read)throw new FS.ErrnoError(28);var seeking=void 0!==position;if(seeking){if(!stream.seekable)throw new FS.ErrnoError(70)}else position=stream.position;buffer=stream.stream_ops.read(stream,buffer,offset,length,position);return seeking||(stream.position+=buffer),buffer},write(stream,buffer,offset,length,position,canOwn){if(length<0||position<0)throw new FS.ErrnoError(28);if(FS.isClosed(stream))throw new FS.ErrnoError(8);if(0==(2097155&stream.flags))throw new FS.ErrnoError(8);if(FS.isDir(stream.node.mode))throw new FS.ErrnoError(31);if(!stream.stream_ops.write)throw new FS.ErrnoError(28);stream.seekable&&1024&stream.flags&&FS.llseek(stream,0,2);var seeking=void 0!==position;if(seeking){if(!stream.seekable)throw new FS.ErrnoError(70)}else position=stream.position;buffer=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);return seeking||(stream.position+=buffer),buffer},mmap(stream,length,position,prot,flags){if(0!=(2&prot)&&0==(2&flags)&&2!=(2097155&stream.flags))throw new FS.ErrnoError(2);if(1==(2097155&stream.flags))throw new FS.ErrnoError(2);if(!stream.stream_ops.mmap)throw new FS.ErrnoError(43);if(length)return stream.stream_ops.mmap(stream,length,position,prot,flags);throw new FS.ErrnoError(28)},msync(stream,buffer,offset,length,mmapFlags){return stream.stream_ops.msync?stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags):0},ioctl(stream,cmd,arg){if(stream.stream_ops.ioctl)return stream.stream_ops.ioctl(stream,cmd,arg);throw new FS.ErrnoError(59)},readFile(path,opts={}){if(opts.flags=opts.flags||0,opts.encoding=opts.encoding||"binary","utf8"!==opts.encoding&&"binary"!==opts.encoding)throw new Error(`Invalid encoding type "${opts.encoding}"`);var stream=FS.open(path,opts.flags),path=FS.stat(path).size,buf=new Uint8Array(path);return FS.read(stream,buf,0,path,0),"utf8"===opts.encoding&&(buf=UTF8ArrayToString(buf)),FS.close(stream),buf},writeFile(path,data,opts={}){opts.flags=opts.flags||577;path=FS.open(path,opts.flags,opts.mode);if("string"==typeof data&&(data=new Uint8Array(intArrayFromString(data,!0))),!ArrayBuffer.isView(data))throw new Error("Unsupported data type");FS.write(path,data,0,data.byteLength,void 0,opts.canOwn),FS.close(path)},cwd:()=>FS.currentPath,chdir(path){path=FS.lookupPath(path,{follow:!0});if(null===path.node)throw new FS.ErrnoError(44);if(!FS.isDir(path.node.mode))throw new FS.ErrnoError(54);var errCode=FS.nodePermissions(path.node,"x");if(errCode)throw new FS.ErrnoError(errCode);FS.currentPath=path.path},createDefaultDirectories(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(stream,buffer,offset,length,pos)=>length,llseek:()=>0}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var randomBuffer=new Uint8Array(1024),randomLeft=0,randomByte=()=>(0===randomLeft&&(randomFill(randomBuffer),randomLeft=randomBuffer.byteLength),randomBuffer[--randomLeft]);FS.createDevice("/dev","random",randomByte),FS.createDevice("/dev","urandom",randomByte),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd"),FS.mount({mount(){var node=FS.createNode(proc_self,"fd",16895,73);return node.stream_ops={llseek:MEMFS.stream_ops.llseek},node.node_ops={lookup(parent,name){var name=+name,stream=FS.getStreamChecked(name),name={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>stream.path},id:1+name};return name.parent=name},readdir(){return Array.from(FS.streams.entries()).filter(([,v])=>v).map(([k])=>k.toString())}},node}},{},"/proc/self/fd")},createStandardStreams(input,output,error){input?FS.createDevice("/dev","stdin",input):FS.symlink("/dev/tty","/dev/stdin"),output?FS.createDevice("/dev","stdout",null,output):FS.symlink("/dev/tty","/dev/stdout"),error?FS.createDevice("/dev","stderr",null,error):FS.symlink("/dev/tty1","/dev/stderr");FS.open("/dev/stdin",0),FS.open("/dev/stdout",1),FS.open("/dev/stderr",1)},staticInit(){FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS}},init(input,output,error){FS.initialized=!0,input??=Module.stdin,output??=Module.stdout,error??=Module.stderr,FS.createStandardStreams(input,output,error)},quit(){FS.initialized=!1;for(var stream of FS.streams)stream&&FS.close(stream)},findObject(path,dontResolveLastLink){path=FS.analyzePath(path,dontResolveLastLink);return path.exists?path.object:null},analyzePath(path,dontResolveLastLink){try{path=(lookup=FS.lookupPath(path,{follow:!dontResolveLastLink})).path}catch(e){}var ret={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:!0});ret.parentExists=!0,ret.parentPath=lookup.path,ret.parentObject=lookup.node,ret.name=PATH.basename(path),lookup=FS.lookupPath(path,{follow:!dontResolveLastLink}),ret.exists=!0,ret.path=lookup.path,ret.object=lookup.node,ret.name=lookup.node.name,ret.isRoot="/"===lookup.path}catch(e){ret.error=e.errno}return ret},createPath(parent,path,canRead,canWrite){parent="string"==typeof parent?parent:FS.getPath(parent);for(var parts=path.split("/").reverse();parts.length;){var part=parts.pop();if(part){var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){if(20!=e.errno)throw e}parent=current}}return current},createFile(parent,name,properties,canRead,canWrite){parent=PATH.join2("string"==typeof parent?parent:FS.getPath(parent),name),name=FS_getMode(canRead,canWrite);return FS.create(parent,name)},createDataFile(parent,name,data,canRead,canWrite,canOwn){var path=name,name=(parent&&(parent="string"==typeof parent?parent:FS.getPath(parent),path=name?PATH.join2(parent,name):parent),FS_getMode(canRead,canWrite)),parent=FS.create(path,name);if(data){if("string"==typeof data){for(var arr=new Array(data.length),i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(parent,146|name);canRead=FS.open(parent,577);FS.write(canRead,data,0,data.length,0,canOwn),FS.close(canRead),FS.chmod(parent,name)}},createDevice(parent,name,input,output){var parent=PATH.join2("string"==typeof parent?parent:FS.getPath(parent),name),name=FS_getMode(!!input,!!output),dev=(FS.createDevice.major??=64,FS.makedev(FS.createDevice.major++,0));return FS.registerDevice(dev,{open(stream){stream.seekable=!1},close(stream){output?.buffer?.length&&output(10)},read(stream,buffer,offset,length,pos){for(var result,bytesRead=0,i=0;i<length;i++){try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(void 0===result&&0===bytesRead)throw new FS.ErrnoError(6);if(null==result)break;bytesRead++,buffer[offset+i]=result}return bytesRead&&(stream.node.atime=Date.now()),bytesRead},write(stream,buffer,offset,length,pos){for(var i=0;i<length;i++)try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}return length&&(stream.node.mtime=stream.node.ctime=Date.now()),i}}),FS.mkdev(parent,name,dev)},forceLoadFile(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{obj.contents=readBinary(obj.url),obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}},createLazyFile(parent,name,url,canRead,canWrite){class LazyUint8Array{lengthKnown=!1;chunks=[];get(idx){var chunkOffset;if(!(idx>this.length-1||idx<0))return chunkOffset=idx%this.chunkSize,idx=idx/this.chunkSize|0,this.getter(idx)[chunkOffset]}setDataGetter(getter){this.getter=getter}cacheLength(){var xhr=new XMLHttpRequest;if(xhr.open("HEAD",url,!1),xhr.send(null),!(200<=xhr.status&&xhr.status<300||304===xhr.status))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var header,datalength=Number(xhr.getResponseHeader("Content-length")),hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&"bytes"===header,xhr=(header=xhr.getResponseHeader("Content-Encoding"))&&"gzip"===header,chunkSize=1048576,lazyArray=(hasByteServing||(chunkSize=datalength),this);lazyArray.setDataGetter(chunkNum=>{var start=chunkNum*chunkSize,end=(chunkNum+1)*chunkSize-1,end=Math.min(end,datalength-1);if(void 0===lazyArray.chunks[chunkNum]&&(lazyArray.chunks[chunkNum]=((from,to)=>{if(to<from)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(datalength-1<to)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;if(xhr.open("GET",url,!1),datalength!==chunkSize&&xhr.setRequestHeader("Range","bytes="+from+"-"+to),xhr.responseType="arraybuffer",xhr.overrideMimeType&&xhr.overrideMimeType("text/plain; charset=x-user-defined"),xhr.send(null),200<=xhr.status&&xhr.status<300||304===xhr.status)return void 0!==xhr.response?new Uint8Array(xhr.response||[]):intArrayFromString(xhr.responseText||"",!0);throw new Error("Couldn't load "+url+". Status: "+xhr.status)})(start,end)),void 0===lazyArray.chunks[chunkNum])throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]}),!xhr&&datalength||(chunkSize=datalength=1,datalength=this.getter(0).length,chunkSize=datalength,out("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=datalength,this._chunkSize=chunkSize,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if("undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var properties={isDevice:!1,contents:new LazyUint8Array}}else properties={isDevice:!1,url:url};var node=FS.createFile(parent,name,properties,canRead,canWrite),stream_ops=(properties.contents?node.contents=properties.contents:properties.url&&(node.contents=null,node.url=properties.url),Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}}),{});function writeChunks(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);if(contents.slice)for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i];else for(i=0;i<size;i++)buffer[offset+i]=contents.get(position+i);return size}return Object.keys(node.stream_ops).forEach(key=>{var fn=node.stream_ops[key];stream_ops[key]=(...args)=>(FS.forceLoadFile(node),fn(...args))}),stream_ops.read=(stream,buffer,offset,length,position)=>(FS.forceLoadFile(node),writeChunks(stream,buffer,offset,length,position)),stream_ops.mmap=(stream,length,position,prot,flags)=>{FS.forceLoadFile(node);var ptr=mmapAlloc(length);if(ptr)return writeChunks(stream,HEAP8,ptr,length,position),{ptr:ptr,allocated:!0};throw new FS.ErrnoError(48)},node.stream_ops=stream_ops,node}},SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(dirfd,path,allowEmpty){if(PATH.isAbs(path))return path;if(dirfd=-100===dirfd?FS.cwd():SYSCALLS.getStreamFromFD(dirfd).path,0!=path.length)return dirfd+"/"+path;if(allowEmpty)return dirfd;throw new FS.ErrnoError(44)},writeStat(buf,stat){HEAPU32[buf>>2]=stat.dev,HEAPU32[buf+4>>2]=stat.mode,HEAPU32[buf+8>>2]=stat.nlink,HEAPU32[buf+12>>2]=stat.uid,HEAPU32[buf+16>>2]=stat.gid,HEAPU32[buf+20>>2]=stat.rdev,HEAP64[buf+24>>3]=BigInt(stat.size),HEAP32[buf+32>>2]=4096,HEAP32[buf+36>>2]=stat.blocks;var atime=stat.atime.getTime(),mtime=stat.mtime.getTime(),ctime=stat.ctime.getTime();return HEAP64[buf+40>>3]=BigInt(Math.floor(atime/1e3)),HEAPU32[buf+48>>2]=atime%1e3*1e3*1e3,HEAP64[buf+56>>3]=BigInt(Math.floor(mtime/1e3)),HEAPU32[buf+64>>2]=mtime%1e3*1e3*1e3,HEAP64[buf+72>>3]=BigInt(Math.floor(ctime/1e3)),HEAPU32[buf+80>>2]=ctime%1e3*1e3*1e3,HEAP64[buf+88>>3]=BigInt(stat.ino),0},writeStatFs(buf,stats){HEAPU32[buf+4>>2]=stats.bsize,HEAPU32[buf+60>>2]=stats.bsize,HEAP64[buf+8>>3]=BigInt(stats.blocks),HEAP64[buf+16>>3]=BigInt(stats.bfree),HEAP64[buf+24>>3]=BigInt(stats.bavail),HEAP64[buf+32>>3]=BigInt(stats.files),HEAP64[buf+40>>3]=BigInt(stats.ffree),HEAPU32[buf+48>>2]=stats.fsid,HEAPU32[buf+64>>2]=stats.flags,HEAPU32[buf+56>>2]=stats.namelen},doMsync(addr,stream,len,flags,offset){if(!FS.isFile(stream.node.mode))throw new FS.ErrnoError(43);if(2&flags)return 0;addr=HEAPU8.slice(addr,addr+len);FS.msync(stream,addr,offset,len,flags)},getStreamFromFD(fd){return FS.getStreamChecked(fd)},varargs:void 0,getStr(ptr){return UTF8ToString(ptr)}},___syscall__newselect=function(nfds,readfds,writefds,exceptfds,timeout){try{for(var total=0,srcReadLow=readfds?HEAP32[readfds>>2]:0,srcReadHigh=readfds?HEAP32[readfds+4>>2]:0,srcWriteLow=writefds?HEAP32[writefds>>2]:0,srcWriteHigh=writefds?HEAP32[writefds+4>>2]:0,srcExceptLow=exceptfds?HEAP32[exceptfds>>2]:0,srcExceptHigh=exceptfds?HEAP32[exceptfds+4>>2]:0,dstReadLow=0,dstReadHigh=0,dstWriteLow=0,dstWriteHigh=0,dstExceptLow=0,dstExceptHigh=0,allLow=(readfds?HEAP32[readfds>>2]:0)|(writefds?HEAP32[writefds>>2]:0)|(exceptfds?HEAP32[exceptfds>>2]:0),allHigh=(readfds?HEAP32[readfds+4>>2]:0)|(writefds?HEAP32[writefds+4>>2]:0)|(exceptfds?HEAP32[exceptfds+4>>2]:0),check=(fd,low,high,val)=>fd<32?low&val:high&val,fd=0;fd<nfds;fd++){var stream,flags,timeoutInMillis,mask=1<<fd%32;check(fd,allLow,allHigh,mask)&&(stream=SYSCALLS.getStreamFromFD(fd),flags=SYSCALLS.DEFAULT_POLLMASK,stream.stream_ops.poll&&(timeoutInMillis=-1,timeout&&(timeoutInMillis=1e3*((readfds?HEAP32[timeout>>2]:0)+(readfds?HEAP32[timeout+4>>2]:0)/1e6)),flags=stream.stream_ops.poll(stream,timeoutInMillis)),1&flags&&check(fd,srcReadLow,srcReadHigh,mask)&&(fd<32?dstReadLow|=mask:dstReadHigh|=mask,total++),4&flags&&check(fd,srcWriteLow,srcWriteHigh,mask)&&(fd<32?dstWriteLow|=mask:dstWriteHigh|=mask,total++),2&flags)&&check(fd,srcExceptLow,srcExceptHigh,mask)&&(fd<32?dstExceptLow|=mask:dstExceptHigh|=mask,total++)}return readfds&&(HEAP32[readfds>>2]=dstReadLow,HEAP32[readfds+4>>2]=dstReadHigh),writefds&&(HEAP32[writefds>>2]=dstWriteLow,HEAP32[writefds+4>>2]=dstWriteHigh),exceptfds&&(HEAP32[exceptfds>>2]=dstExceptLow,HEAP32[exceptfds+4>>2]=dstExceptHigh),total}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}},SOCKFS={websocketArgs:{},callbacks:{},on(event,callback){SOCKFS.callbacks[event]=callback},emit(event,param){SOCKFS.callbacks[event]?.(param)},mount(mount){return SOCKFS.websocketArgs=Module.websocket||{},(Module.websocket??={}).on=SOCKFS.on,FS.createNode(null,"/",16895,0)},createSocket(family,type,protocol){if(2!=family)throw new FS.ErrnoError(5);if(1!=(type&=-526337)&&2!=type)throw new FS.ErrnoError(28);if(1==type&&protocol&&6!=protocol)throw new FS.ErrnoError(66);family={family:family,type:type,protocol:protocol,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:SOCKFS.websocket_sock_ops},type=SOCKFS.nextname(),protocol=FS.createNode(SOCKFS.root,type,49152,0),protocol.sock=family,type=FS.createStream({path:type,node:protocol,flags:2,seekable:!1,stream_ops:SOCKFS.stream_ops});return family.stream=type,family},getSocket(fd){fd=FS.getStream(fd);return fd&&FS.isSocket(fd.node.mode)?fd.node.sock:null},stream_ops:{poll(stream){stream=stream.node.sock;return stream.sock_ops.poll(stream)},ioctl(stream,request,varargs){stream=stream.node.sock;return stream.sock_ops.ioctl(stream,request,varargs)},read(stream,buffer,offset,length,position){stream=stream.node.sock,stream=stream.sock_ops.recvmsg(stream,length);return stream?(buffer.set(stream.buffer,offset),stream.buffer.length):0},write(stream,buffer,offset,length,position){stream=stream.node.sock;return stream.sock_ops.sendmsg(stream,buffer,offset,length)},close(stream){stream=stream.node.sock;stream.sock_ops.close(stream)}},nextname(){return SOCKFS.nextname.current||(SOCKFS.nextname.current=0),`socket[${SOCKFS.nextname.current++}]`},websocket_sock_ops:{createPeer(sock,addr,port){var ws;if("object"==typeof addr&&(ws=addr,port=addr=null),ws)if(ws._socket)addr=ws._socket.remoteAddress,port=ws._socket.remotePort;else{var result=/ws[s]?:\/\/([^:]+):(\d+)/.exec(ws.url);if(!result)throw new Error("WebSocket URL must be in the format ws(s)://address:port");addr=result[1],port=parseInt(result[2],10)}else try{var parts,url="ws://".replace("#","//"),subProtocols="binary",opts=void 0;SOCKFS.websocketArgs.url&&(url=SOCKFS.websocketArgs.url),SOCKFS.websocketArgs.subprotocol?subProtocols=SOCKFS.websocketArgs.subprotocol:null===SOCKFS.websocketArgs.subprotocol&&(subProtocols="null"),"ws://"!==url&&"wss://"!==url||(url=url+(parts=addr.split("/"))[0]+":"+port+"/"+parts.slice(1).join("/")),"null"!==subProtocols&&(opts=subProtocols=subProtocols.replace(/^ +| +$/g,"").split(/ *, */)),(ws=new(ENVIRONMENT_IS_NODE?require("ws"):WebSocket)(url,opts)).binaryType="arraybuffer"}catch(e){throw new FS.ErrnoError(23)}result={addr:addr,port:port,socket:ws,msg_send_queue:[]};return SOCKFS.websocket_sock_ops.addPeer(sock,result),SOCKFS.websocket_sock_ops.handlePeerEvents(sock,result),2===sock.type&&void 0!==sock.sport&&result.msg_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(65280&sock.sport)>>8,255&sock.sport])),result},getPeer(sock,addr,port){return sock.peers[addr+":"+port]},addPeer(sock,peer){sock.peers[peer.addr+":"+peer.port]=peer},removePeer(sock,peer){delete sock.peers[peer.addr+":"+peer.port]},handlePeerEvents(sock,peer){function handleOpen(){sock.connecting=!1,SOCKFS.emit("open",sock.stream.fd);try{for(var queued=peer.msg_send_queue.shift();queued;)peer.socket.send(queued),queued=peer.msg_send_queue.shift()}catch(e){peer.socket.close()}}var first=!0;function handleMessage(data){if("string"==typeof data)data=(new TextEncoder).encode(data);else{if(assert(void 0!==data.byteLength),0==data.byteLength)return;data=new Uint8Array(data)}var wasfirst=first;first=!1,wasfirst&&10===data.length&&255===data[0]&&255===data[1]&&255===data[2]&&255===data[3]&&data[4]==="p".charCodeAt(0)&&data[5]==="o".charCodeAt(0)&&data[6]==="r".charCodeAt(0)&&data[7]==="t".charCodeAt(0)?(wasfirst=data[8]<<8|data[9],SOCKFS.websocket_sock_ops.removePeer(sock,peer),peer.port=wasfirst,SOCKFS.websocket_sock_ops.addPeer(sock,peer)):(sock.recv_queue.push({addr:peer.addr,port:peer.port,data:data}),SOCKFS.emit("message",sock.stream.fd))}ENVIRONMENT_IS_NODE?(peer.socket.on("open",handleOpen),peer.socket.on("message",function(data,isBinary){isBinary&&handleMessage(new Uint8Array(data).buffer)}),peer.socket.on("close",function(){SOCKFS.emit("close",sock.stream.fd)}),peer.socket.on("error",function(error){sock.error=14,SOCKFS.emit("error",[sock.stream.fd,sock.error,"ECONNREFUSED: Connection refused"])})):(peer.socket.onopen=handleOpen,peer.socket.onclose=function(){SOCKFS.emit("close",sock.stream.fd)},peer.socket.onmessage=function(event){handleMessage(event.data)},peer.socket.onerror=function(error){sock.error=14,SOCKFS.emit("error",[sock.stream.fd,sock.error,"ECONNREFUSED: Connection refused"])})},poll(sock){var mask,dest;return 1===sock.type&&sock.server?sock.pending.length?65:0:(mask=0,dest=1===sock.type?SOCKFS.websocket_sock_ops.getPeer(sock,sock.daddr,sock.dport):null,(sock.recv_queue.length||!dest||dest&&dest.socket.readyState===dest.socket.CLOSING||dest&&dest.socket.readyState===dest.socket.CLOSED)&&(mask|=65),dest&&dest.socket.readyState!==dest.socket.OPEN||(mask|=4),(dest&&dest.socket.readyState===dest.socket.CLOSING||dest&&dest.socket.readyState===dest.socket.CLOSED)&&(sock.connecting?mask|=4:mask|=16),mask)},ioctl(sock,request,arg){switch(request){case 21531:var bytes=0;return sock.recv_queue.length&&(bytes=sock.recv_queue[0].data.length),HEAP32[arg>>2]=bytes,0;case 21537:return HEAP32[arg>>2]?sock.stream.flags|=2048:sock.stream.flags&=-2049,0;default:return 28}},close(sock){if(sock.server){try{sock.server.close()}catch(e){}sock.server=null}for(var peer of Object.values(sock.peers)){try{peer.socket.close()}catch(e){}SOCKFS.websocket_sock_ops.removePeer(sock,peer)}return 0},bind(sock,addr,port){if(void 0!==sock.saddr||void 0!==sock.sport)throw new FS.ErrnoError(28);if(sock.saddr=addr,sock.sport=port,2===sock.type){sock.server&&(sock.server.close(),sock.server=null);try{sock.sock_ops.listen(sock,0)}catch(e){if("ErrnoError"!==e.name)throw e;if(138!==e.errno)throw e}}},connect(sock,addr,port){if(sock.server)throw new FS.ErrnoError(138);if(void 0!==sock.daddr&&void 0!==sock.dport){var dest=SOCKFS.websocket_sock_ops.getPeer(sock,sock.daddr,sock.dport);if(dest)throw dest.socket.readyState===dest.socket.CONNECTING?new FS.ErrnoError(7):new FS.ErrnoError(30)}dest=SOCKFS.websocket_sock_ops.createPeer(sock,addr,port);sock.daddr=dest.addr,sock.dport=dest.port,sock.connecting=!0},listen(sock,backlog){if(!ENVIRONMENT_IS_NODE)throw new FS.ErrnoError(138);if(sock.server)throw new FS.ErrnoError(28);var WebSocketServer=require("ws").Server,host=sock.saddr;sock.server=new WebSocketServer({host:host,port:sock.sport}),SOCKFS.emit("listen",sock.stream.fd),sock.server.on("connection",function(ws){var newsock,peer;1===sock.type?(newsock=SOCKFS.createSocket(sock.family,sock.type,sock.protocol),peer=SOCKFS.websocket_sock_ops.createPeer(newsock,ws),newsock.daddr=peer.addr,newsock.dport=peer.port,sock.pending.push(newsock),SOCKFS.emit("connection",newsock.stream.fd)):(SOCKFS.websocket_sock_ops.createPeer(sock,ws),SOCKFS.emit("connection",sock.stream.fd))}),sock.server.on("close",function(){SOCKFS.emit("close",sock.stream.fd),sock.server=null}),sock.server.on("error",function(error){sock.error=23,SOCKFS.emit("error",[sock.stream.fd,sock.error,"EHOSTUNREACH: Host is unreachable"])})},accept(listensock){var newsock;if(listensock.server&&listensock.pending.length)return(newsock=listensock.pending.shift()).stream.flags=listensock.stream.flags,newsock;throw new FS.ErrnoError(28)},getname(sock,peer){var addr,port;if(peer){if(void 0===sock.daddr||void 0===sock.dport)throw new FS.ErrnoError(53);addr=sock.daddr,port=sock.dport}else addr=sock.saddr||0,port=sock.sport||0;return{addr:addr,port:port}},sendmsg(sock,buffer,offset,length,addr,port){if(2===sock.type){if(void 0!==addr&&void 0!==port||(addr=sock.daddr,port=sock.dport),void 0===addr||void 0===port)throw new FS.ErrnoError(17)}else addr=sock.daddr,port=sock.dport;var dest=SOCKFS.websocket_sock_ops.getPeer(sock,addr,port);if(1===sock.type&&(!dest||dest.socket.readyState===dest.socket.CLOSING||dest.socket.readyState===dest.socket.CLOSED))throw new FS.ErrnoError(53);ArrayBuffer.isView(buffer)&&(offset+=buffer.byteOffset,buffer=buffer.buffer);buffer=buffer.slice(offset,offset+length);if(!dest||dest.socket.readyState!==dest.socket.OPEN)return(dest=2!==sock.type||dest&&dest.socket.readyState!==dest.socket.CLOSING&&dest.socket.readyState!==dest.socket.CLOSED?dest:SOCKFS.websocket_sock_ops.createPeer(sock,addr,port)).msg_send_queue.push(buffer),length;try{return dest.socket.send(buffer),length}catch(e){throw new FS.ErrnoError(28)}},recvmsg(sock,length){if(1===sock.type&&sock.server)throw new FS.ErrnoError(53);var queuedLength,queuedOffset,res,queued=sock.recv_queue.shift();if(queued)return queuedLength=queued.data.byteLength||queued.data.length,queuedOffset=queued.data.byteOffset||0,queuedBuffer=queued.data.buffer||queued.data,length=Math.min(length,queuedLength),res={buffer:new Uint8Array(queuedBuffer,queuedOffset,length),addr:queued.addr,port:queued.port},1===sock.type&&length<queuedLength&&(queued.data=new Uint8Array(queuedBuffer,queuedOffset+length,queuedLength-length),sock.recv_queue.unshift(queued)),res;if(1===sock.type){var queuedBuffer=SOCKFS.websocket_sock_ops.getPeer(sock,sock.daddr,sock.dport);if(!queuedBuffer)throw new FS.ErrnoError(53);if(queuedBuffer.socket.readyState===queuedBuffer.socket.CLOSING||queuedBuffer.socket.readyState===queuedBuffer.socket.CLOSED)return null}throw new FS.ErrnoError(6)}}},getSocketFromFD=fd=>{fd=SOCKFS.getSocket(fd);if(fd)return fd;throw new FS.ErrnoError(8)},inetNtop4=addr=>(255&addr)+"."+(addr>>8&255)+"."+(addr>>16&255)+"."+(addr>>24&255),inetNtop6=ints=>{for(var str="",word=0,longest=0,lastzero=0,zstart=0,len=0,i=0,parts=[65535&ints[0],ints[0]>>16,65535&ints[1],ints[1]>>16,65535&ints[2],ints[2]>>16,65535&ints[3],ints[3]>>16],hasipv4=!0,ints="",i=0;i<5;i++)if(0!==parts[i]){hasipv4=!1;break}if(hasipv4){if(ints=inetNtop4(parts[6]|parts[7]<<16),-1===parts[5])return str="::ffff:",str+=ints;if(0===parts[5])return str="::",str+=ints="0.0.0.1"===(ints="0.0.0.0"===ints?"":ints)?"1":ints}for(word=0;word<8;word++)0===parts[word]&&(1<word-lastzero&&(len=0),lastzero=word,len++),longest<len&&(zstart=word-(longest=len)+1);for(word=0;word<8;word++)1<longest&&0===parts[word]&&zstart<=word&&word<zstart+longest?word===zstart&&(str+=":",0===zstart)&&(str+=":"):str=str+Number(_ntohs(65535&parts[word])).toString(16)+(word<7?":":"");return str},readSockaddr=(sa,salen)=>{var addr,family=HEAP16[sa>>1],port=_ntohs(HEAPU16[sa+2>>1]);switch(family){case 2:if(16!==salen)return{errno:28};addr=HEAP32[sa+4>>2],addr=inetNtop4(addr);break;case 10:if(28!==salen)return{errno:28};addr=[HEAP32[sa+8>>2],HEAP32[sa+12>>2],HEAP32[sa+16>>2],HEAP32[sa+20>>2]],addr=inetNtop6(addr);break;default:return{errno:5}}return{family:family,addr:addr,port:port}},inetPton4=str=>{for(var b=str.split("."),i=0;i<4;i++){var tmp=Number(b[i]);if(isNaN(tmp))return null;b[i]=tmp}return(b[0]|b[1]<<8|b[2]<<16|b[3]<<24)>>>0},inetPton6=str=>{var words,w,offset,z,parts=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(str))return null;if("::"===str)return[0,0,0,0,0,0,0,0];for(words=0<(str=str.startsWith("::")?str.replace("::","Z:"):str.replace("::",":Z:")).indexOf(".")?((words=(str=str.replace(new RegExp("[.]","g"),":")).split(":"))[words.length-4]=Number(words[words.length-4])+256*Number(words[words.length-3]),words[words.length-3]=Number(words[words.length-2])+256*Number(words[words.length-1]),words.slice(0,words.length-2)):str.split(":"),w=z=offset=0;w<words.length;w++)if("string"==typeof words[w])if("Z"===words[w]){for(z=0;z<8-words.length+1;z++)parts[w+z]=0;offset=z-1}else parts[w+offset]=_htons(parseInt(words[w],16));else parts[w+offset]=words[w];return[parts[1]<<16|parts[0],parts[3]<<16|parts[2],parts[5]<<16|parts[4],parts[7]<<16|parts[6]]},DNS={address_map:{id:1,addrs:{},names:{}},lookup_name(name){var addr,id;return null!==inetPton4(name)||null!==inetPton6(name)?name:(DNS.address_map.addrs[name]?addr=DNS.address_map.addrs[name]:(assert((id=DNS.address_map.id++)<65535,"exceeded max address mappings of 65535"),DNS.address_map.names[addr="172.29."+(255&id)+"."+(65280&id)]=name,DNS.address_map.addrs[name]=addr),addr)},lookup_addr(addr){return DNS.address_map.names[addr]||null}},getSocketAddress=(addrp,addrlen)=>{addrp=readSockaddr(addrp,addrlen);if(addrp.errno)throw new FS.ErrnoError(addrp.errno);return addrp.addr=DNS.lookup_addr(addrp.addr)||addrp.addr,addrp};function ___syscall_bind(fd,addr,addrlen,d1,d2,d3){try{var sock=getSocketFromFD(fd),info=getSocketAddress(addr,addrlen);return sock.sock_ops.bind(sock,info.addr,info.port),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var syscallGetVarargI=()=>{var ret=HEAP32[+SYSCALLS.varargs>>2];return SYSCALLS.varargs+=4,ret},syscallGetVarargP=syscallGetVarargI;function ___syscall_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:if((arg=syscallGetVarargI())<0)return-28;for(;FS.streams[arg];)arg++;return FS.dupStream(stream,arg).fd;case 1:case 2:return 0;case 3:return stream.flags;case 4:var arg=syscallGetVarargI();return stream.flags|=arg,0;case 12:arg=syscallGetVarargP();return HEAP16[arg+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_fstat64(fd,buf){try{return SYSCALLS.writeStat(buf,FS.fstat(fd))}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);function ___syscall_getdents64(fd,dirp,count){try{for(var stream=SYSCALLS.getStreamFromFD(fd),pos=(stream.getdents||=FS.readdir(stream.path),0),off=FS.llseek(stream,0,1),startIdx=Math.floor(off/280),endIdx=Math.min(stream.getdents.length,startIdx+Math.floor(count/280)),idx=startIdx;idx<endIdx;idx++){var child,name=stream.getdents[idx];if("."===name)id=stream.node.id,type=4;else if(".."===name)var id=FS.lookupPath(stream.path,{parent:!0}).node.id,type=4;else{try{child=FS.lookupNode(stream.node,name)}catch(e){if(28===e?.errno)continue;throw e}id=child.id,type=FS.isChrdev(child.mode)?2:FS.isDir(child.mode)?4:FS.isLink(child.mode)?10:8}HEAP64[dirp+pos>>3]=BigInt(id),HEAP64[dirp+pos+8>>3]=BigInt(280*(idx+1)),HEAP16[dirp+pos+16>>1]=280,HEAP8[dirp+pos+18]=type,stringToUTF8(name,dirp+pos+19,256),pos+=280}return FS.llseek(stream,280*idx,0),pos}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var writeSockaddr=(sa,family,addr,port,addrlen)=>{switch(family){case 2:addr=inetPton4(addr),zeroMemory(sa,16),addrlen&&(HEAP32[addrlen>>2]=16),HEAP16[sa>>1]=family,HEAP32[sa+4>>2]=addr,HEAP16[sa+2>>1]=_htons(port);break;case 10:addr=inetPton6(addr),zeroMemory(sa,28),addrlen&&(HEAP32[addrlen>>2]=28),HEAP32[sa>>2]=family,HEAP32[sa+8>>2]=addr[0],HEAP32[sa+12>>2]=addr[1],HEAP32[sa+16>>2]=addr[2],HEAP32[sa+20>>2]=addr[3],HEAP16[sa+2>>1]=_htons(port);break;default:return 5}return 0};function ___syscall_getsockname(fd,addr,addrlen,d1,d2,d3){try{var sock=getSocketFromFD(fd);writeSockaddr(addr,sock.family,DNS.lookup_name(sock.saddr||"0.0.0.0"),sock.sport,addrlen);return 0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var winsize,stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:return stream.tty?0:-59;case 21505:if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcgets){var termios=stream.tty.ops.ioctl_tcgets(stream),argp=syscallGetVarargP();HEAP32[argp>>2]=termios.c_iflag||0,HEAP32[argp+4>>2]=termios.c_oflag||0,HEAP32[argp+8>>2]=termios.c_cflag||0,HEAP32[argp+12>>2]=termios.c_lflag||0;for(var i=0;i<32;i++)HEAP8[argp+i+17]=termios.c_cc[i]||0}return 0;case 21510:case 21511:case 21512:return stream.tty?0:-59;case 21506:case 21507:case 21508:if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcsets){for(var argp=syscallGetVarargP(),c_iflag=HEAP32[argp>>2],c_oflag=HEAP32[argp+4>>2],c_cflag=HEAP32[argp+8>>2],c_lflag=HEAP32[argp+12>>2],c_cc=[],i=0;i<32;i++)c_cc.push(HEAP8[argp+i+17]);return stream.tty.ops.ioctl_tcsets(stream.tty,op,{c_iflag:c_iflag,c_oflag:c_oflag,c_cflag:c_cflag,c_lflag:c_lflag,c_cc:c_cc})}return 0;case 21519:return stream.tty?(argp=syscallGetVarargP(),HEAP32[argp>>2]=0):-59;case 21520:return stream.tty?-28:-59;case 21537:case 21531:argp=syscallGetVarargP();return FS.ioctl(stream,op,argp);case 21523:return stream.tty?(stream.tty.ops.ioctl_tiocgwinsz&&(winsize=stream.tty.ops.ioctl_tiocgwinsz(stream.tty),argp=syscallGetVarargP(),HEAP16[argp>>1]=winsize[0],HEAP16[argp+2>>1]=winsize[1]),0):-59;case 21524:case 21515:return stream.tty?0:-59;default:return-28}}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_lstat64(path,buf){try{return path=SYSCALLS.getStr(path),SYSCALLS.writeStat(buf,FS.lstat(path))}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_mkdirat(dirfd,path,mode){try{return path=SYSCALLS.getStr(path),path=SYSCALLS.calculateAt(dirfd,path),FS.mkdir(path,mode,0),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_newfstatat(dirfd,path,buf,flags){try{path=SYSCALLS.getStr(path);var nofollow=256&flags,allowEmpty=4096&flags;return flags&=-6401,path=SYSCALLS.calculateAt(dirfd,path,allowEmpty),SYSCALLS.writeStat(buf,nofollow?FS.lstat(path):FS.stat(path))}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_openat(dirfd,path,flags,varargs){SYSCALLS.varargs=varargs;try{path=SYSCALLS.getStr(path),path=SYSCALLS.calculateAt(dirfd,path);var mode=varargs?syscallGetVarargI():0;return FS.open(path,flags,mode).fd}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_recvfrom(fd,buf,len,flags,addr,addrlen){try{var sock=getSocketFromFD(fd),msg=sock.sock_ops.recvmsg(sock,len);return msg?(addr&&writeSockaddr(addr,sock.family,DNS.lookup_name(msg.addr),msg.port,addrlen),HEAPU8.set(msg.buffer,buf),msg.buffer.byteLength):0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_renameat(olddirfd,oldpath,newdirfd,newpath){try{return oldpath=SYSCALLS.getStr(oldpath),newpath=SYSCALLS.getStr(newpath),oldpath=SYSCALLS.calculateAt(olddirfd,oldpath),newpath=SYSCALLS.calculateAt(newdirfd,newpath),FS.rename(oldpath,newpath),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_rmdir(path){try{return path=SYSCALLS.getStr(path),FS.rmdir(path),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_sendto(fd,message,length,flags,addr,addr_len){try{var dest,sock=getSocketFromFD(fd);return addr?(dest=getSocketAddress(addr,addr_len),sock.sock_ops.sendmsg(sock,HEAP8,message,length,dest.addr,dest.port)):FS.write(sock.stream,HEAP8,message,length)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_socket(domain,type,protocol){try{return SOCKFS.createSocket(domain,type,protocol).stream.fd}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_stat64(path,buf){try{return path=SYSCALLS.getStr(path),SYSCALLS.writeStat(buf,FS.stat(path))}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_unlinkat(dirfd,path,flags){try{if(path=SYSCALLS.getStr(path),path=SYSCALLS.calculateAt(dirfd,path),flags){if(512!==flags)return-28;FS.rmdir(path)}else FS.unlink(path);return 0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var __emscripten_lookup_name=name=>{name=UTF8ToString(name);return inetPton4(DNS.lookup_name(name))},__emscripten_system=command=>{var cmdstr;return ENVIRONMENT_IS_NODE?command?(cmdstr=UTF8ToString(command)).length?null===(cmdstr=require("child_process").spawnSync(cmdstr,[],{shell:!0,stdio:"inherit"})).status?0|(sig=>{switch(sig){case"SIGHUP":return 1;case"SIGQUIT":return 3;case"SIGFPE":return 8;case"SIGKILL":return 9;case"SIGALRM":return 14;case"SIGTERM":return 15;default:return 2}})(cmdstr.signal):cmdstr.status<<8|0:0:1:command?-52:0},INT53_MAX=9007199254740992,INT53_MIN=-9007199254740992,bigintToI53Checked=num=>num<INT53_MIN||INT53_MAX<num?NaN:Number(num);function __mmap_js(len,prot,flags,fd,offset,allocated,addr){offset=bigintToI53Checked(offset);try{var stream=SYSCALLS.getStreamFromFD(fd),res=FS.mmap(stream,len,offset,prot,flags),ptr=res.ptr;return HEAP32[allocated>>2]=res.allocated,HEAPU32[addr>>2]=ptr,0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function __munmap_js(addr,len,prot,flags,fd,offset){offset=bigintToI53Checked(offset);try{var stream=SYSCALLS.getStreamFromFD(fd);2&prot&&SYSCALLS.doMsync(addr,stream,len,flags,offset)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var _emscripten_get_now=()=>performance.now(),_emscripten_date_now=()=>Date.now(),nowIsMonotonic=1,checkWasiClock=clock_id=>0<=clock_id&&clock_id<=3;function _clock_time_get(clk_id,ignored_precision,ptime){if(ignored_precision=bigintToI53Checked(ignored_precision),!checkWasiClock(clk_id))return 28;var now;if(0===clk_id)now=_emscripten_date_now();else{if(!nowIsMonotonic)return 52;now=_emscripten_get_now()}ignored_precision=Math.round(1e3*now*1e3);return HEAP64[ptime>>3]=BigInt(ignored_precision),0}var handleException=e=>{if(e instanceof ExitStatus||"unwind"==e)return EXITSTATUS;quit_(1,e)},runtimeKeepaliveCounter=0,keepRuntimeAlive=()=>noExitRuntime||0<runtimeKeepaliveCounter,_proc_exit=code=>{EXITSTATUS=code,keepRuntimeAlive()||(Module.onExit?.(code),ABORT=!0),quit_(code,new ExitStatus(code))},exitJS=(status,implicit)=>{_proc_exit(EXITSTATUS=status)},_exit=exitJS,maybeExit=()=>{if(!keepRuntimeAlive())try{_exit(EXITSTATUS)}catch(e){handleException(e)}},callUserCallback=func=>{if(!ABORT)try{func(),maybeExit()}catch(e){handleException(e)}};function getFullscreenElement(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement||document.msFullscreenElement}var GLctx,safeSetTimeout=(func,timeout)=>setTimeout(()=>{callUserCallback(func)},timeout),warnOnce=text=>{warnOnce.shown||={},warnOnce.shown[text]||(warnOnce.shown[text]=1,err(text=ENVIRONMENT_IS_NODE?"warning: "+text:text))},Browser={useWebGL:!1,isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],preloadedImages:{},preloadedAudios:{},getCanvas:()=>Module.canvas,init(){var audioPlugin;Browser.initted||(Browser.initted=!0,preloadPlugins.push({canHandle:function(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp|webp)$/i.test(name)},handle:async function(byteArray,name){var b=new Blob([byteArray],{type:Browser.getMimetype(name)}),url=(b.size!==byteArray.length&&(b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})),URL.createObjectURL(b));return new Promise((resolve,reject)=>{var img=new Image;img.onload=()=>{var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0),Browser.preloadedImages[name]=canvas,URL.revokeObjectURL(url),resolve(byteArray)},img.onerror=event=>{err(`Image ${url} could not be decoded`),reject()},img.src=url})}}),(audioPlugin={canHandle:function(name){return!Module.noAudioDecoding&&name.slice(-4)in{".ogg":1,".wav":1,".mp3":1}}}).handle=async function(byteArray,name){return new Promise((resolve,reject)=>{var done=!1;function finish(audio){done||(done=!0,Browser.preloadedAudios[name]=audio,resolve(byteArray))}var b=new Blob([byteArray],{type:Browser.getMimetype(name)}),b=URL.createObjectURL(b),audio=new Audio;audio.addEventListener("canplaythrough",()=>finish(audio),!1),audio.onerror=function(event){done||(err(`warning: browser could not fully decode audio ${name}, trying slower base64 approach`),audio.src="data:audio/x-"+name.slice(-3)+";base64,"+(data=>{for(var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ret="",leftchar=0,leftbits=0,i=0;i<data.length;i++)for(leftchar=leftchar<<8|data[i],leftbits+=8;6<=leftbits;){var curr=leftchar>>leftbits-6&63;leftbits-=6,ret+=BASE[curr]}return 2==leftbits?ret=ret+BASE[(3&leftchar)<<4]+"==":4==leftbits&&(ret=ret+BASE[(15&leftchar)<<2]+"="),ret})(byteArray),finish(audio))},audio.src=b,safeSetTimeout(()=>{finish(audio)},1e4)})},preloadPlugins.push(audioPlugin),(audioPlugin=Browser.getCanvas())&&(document.addEventListener("pointerlockchange",function(){var canvas=Browser.getCanvas();Browser.pointerLock=document.pointerLockElement===canvas},!1),Module.elementPointerLock)&&audioPlugin.addEventListener("click",ev=>{!Browser.pointerLock&&Browser.getCanvas().requestPointerLock&&(Browser.getCanvas().requestPointerLock(),ev.preventDefault())},!1))},createContext(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Browser.getCanvas())return Module.ctx;var ctx,contextHandle;if(useWebGL){var contextAttributes={antialias:!1,alpha:!1,majorVersion:1};if(webGLContextAttributes)for(var attribute in webGLContextAttributes)contextAttributes[attribute]=webGLContextAttributes[attribute];void 0!==GL&&(contextHandle=GL.createContext(canvas,contextAttributes))&&(ctx=GL.getContext(contextHandle).GLctx)}else ctx=canvas.getContext("2d");return ctx?(setInModule&&(Module.ctx=ctx,useWebGL&&GL.makeContextCurrent(contextHandle),Browser.useWebGL=useWebGL,Browser.moduleContextCreatedCallbacks.forEach(callback=>callback()),Browser.init()),ctx):null},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer,Browser.resizeCanvas=resizeCanvas,void 0===Browser.lockPointer&&(Browser.lockPointer=!0),void 0===Browser.resizeCanvas&&(Browser.resizeCanvas=!1);var canvas=Browser.getCanvas();function fullscreenChange(){Browser.isFullscreen=!1;var canvasContainer=canvas.parentNode;getFullscreenElement()===canvasContainer?(canvas.exitFullscreen=Browser.exitFullscreen,Browser.lockPointer&&canvas.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas?Browser.setFullscreenCanvasSize():Browser.updateCanvasDimensions(canvas)):(canvasContainer.parentNode.insertBefore(canvas,canvasContainer),canvasContainer.parentNode.removeChild(canvasContainer),Browser.resizeCanvas?Browser.setWindowedCanvasSize():Browser.updateCanvasDimensions(canvas)),Module.onFullScreen?.(Browser.isFullscreen),Module.onFullscreen?.(Browser.isFullscreen)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",fullscreenChange,!1),document.addEventListener("mozfullscreenchange",fullscreenChange,!1),document.addEventListener("webkitfullscreenchange",fullscreenChange,!1),document.addEventListener("MSFullscreenChange",fullscreenChange,!1));var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas),canvasContainer.appendChild(canvas),canvasContainer.requestFullscreen=canvasContainer.requestFullscreen||canvasContainer.mozRequestFullScreen||canvasContainer.msRequestFullscreen||(canvasContainer.webkitRequestFullscreen?()=>canvasContainer.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(canvasContainer.webkitRequestFullScreen?()=>canvasContainer.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),canvasContainer.requestFullscreen()},exitFullscreen(){return!!Browser.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0)},safeSetTimeout(func,timeout){return safeSetTimeout(func,timeout)},getMimetype(name){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[name.slice(name.lastIndexOf(".")+1)]},getUserMedia(func){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(func)},getMovementX(event){return event.movementX||event.mozMovementX||event.webkitMovementX||0},getMovementY(event){return event.movementY||event.mozMovementY||event.webkitMovementY||0},getMouseWheelDelta(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":switch(delta=event.deltaY,event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(pageX,pageY){var canvas=Browser.getCanvas(),rect=canvas.getBoundingClientRect(),scrollX=void 0!==window.scrollX?window.scrollX:window.pageXOffset,scrollY=void 0!==window.scrollY?window.scrollY:window.pageYOffset,pageX=pageX-(scrollX+rect.left),scrollX=pageY-(scrollY+rect.top);return{x:pageX*=canvas.width/rect.width,y:scrollX*=canvas.height/rect.height}},setMouseCoords(pageX,pageY){var{x:pageX,y:pageY}=Browser.calculateMouseCoords(pageX,pageY);Browser.mouseMovementX=pageX-Browser.mouseX,Browser.mouseMovementY=pageY-Browser.mouseY,Browser.mouseX=pageX,Browser.mouseY=pageY},calculateMouseEvent(event){if(Browser.pointerLock)"mousemove"!=event.type&&"mozMovementX"in event?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(event),Browser.mouseMovementY=Browser.getMovementY(event)),Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY;else{var touch,coords,last;if("touchstart"===event.type||"touchend"===event.type||"touchmove"===event.type)return void 0===(touch=event.touch)?void 0:(coords=Browser.calculateMouseCoords(touch.pageX,touch.pageY),void("touchstart"===event.type?(Browser.lastTouches[touch.identifier]=coords,Browser.touches[touch.identifier]=coords):"touchend"!==event.type&&"touchmove"!==event.type||(last=Browser.touches[touch.identifier],Browser.lastTouches[touch.identifier]=last||=coords,Browser.touches[touch.identifier]=coords)));Browser.setMouseCoords(event.pageX,event.pageY)}},resizeListeners:[],updateResizeListeners(){var canvas=Browser.getCanvas();Browser.resizeListeners.forEach(listener=>listener(canvas.width,canvas.height))},setCanvasSize(width,height,noUpdates){var canvas=Browser.getCanvas();Browser.updateCanvasDimensions(canvas,width,height),noUpdates||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){var flags;"undefined"!=typeof SDL&&(flags=HEAPU32[SDL.screen>>2],HEAP32[SDL.screen>>2]=flags|=8388608),Browser.updateCanvasDimensions(Browser.getCanvas()),Browser.updateResizeListeners()},setWindowedCanvasSize(){var flags;"undefined"!=typeof SDL&&(flags=HEAPU32[SDL.screen>>2],HEAP32[SDL.screen>>2]=flags&=-8388609),Browser.updateCanvasDimensions(Browser.getCanvas()),Browser.updateResizeListeners()},updateCanvasDimensions(canvas,wNative,hNative){wNative&&hNative?(canvas.widthNative=wNative,canvas.heightNative=hNative):(wNative=canvas.widthNative,hNative=canvas.heightNative);var factor,w=wNative,h=hNative;0<Module.forcedAspectRatio&&(w/h<Module.forcedAspectRatio?w=Math.round(h*Module.forcedAspectRatio):h=Math.round(w/Module.forcedAspectRatio)),getFullscreenElement()===canvas.parentNode&&"undefined"!=typeof screen&&(factor=Math.min(screen.width/w,screen.height/h),w=Math.round(w*factor),h=Math.round(h*factor)),Browser.resizeCanvas?(canvas.width!=w&&(canvas.width=w),canvas.height!=h&&(canvas.height=h),void 0!==canvas.style&&(canvas.style.removeProperty("width"),canvas.style.removeProperty("height"))):(canvas.width!=wNative&&(canvas.width=wNative),canvas.height!=hNative&&(canvas.height=hNative),void 0!==canvas.style&&(w!=wNative||h!=hNative?(canvas.style.setProperty("width",w+"px","important"),canvas.style.setProperty("height",h+"px","important")):(canvas.style.removeProperty("width"),canvas.style.removeProperty("height"))))}},EGL={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode(code){EGL.errorCode=code},chooseConfig(display,attribList,config,config_size,numConfigs){if(62e3!=display)return EGL.setErrorCode(12296),0;if(attribList)for(;;){var param=HEAP32[attribList>>2];if(12321==param){var alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.alpha=0<alphaSize}else if(12325==param){alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.depth=0<alphaSize}else if(12326==param){var stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.stencil=0<stencilSize}else if(12337==param){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=0<samples}else if(12338==param){samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=1==samples}else if(12544==param){stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.lowLatency=12547!=stencilSize}else if(12344==param)break;attribList+=8}return config&&config_size||numConfigs?(numConfigs&&(HEAP32[numConfigs>>2]=1),config&&0<config_size&&(HEAPU32[config>>2]=62002),EGL.setErrorCode(12288),1):(EGL.setErrorCode(12300),0)}},_eglBindAPI=api=>12448==api?(EGL.setErrorCode(12288),1):(EGL.setErrorCode(12300),0),_eglChooseConfig=(display,attrib_list,configs,config_size,numConfigs)=>EGL.chooseConfig(display,attrib_list,configs,config_size,numConfigs),webgl_enable_ANGLE_instanced_arrays=ctx=>{var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext)return ctx.vertexAttribDivisor=(index,divisor)=>ext.vertexAttribDivisorANGLE(index,divisor),ctx.drawArraysInstanced=(mode,first,count,primcount)=>ext.drawArraysInstancedANGLE(mode,first,count,primcount),ctx.drawElementsInstanced=(mode,count,type,indices,primcount)=>ext.drawElementsInstancedANGLE(mode,count,type,indices,primcount),1},webgl_enable_OES_vertex_array_object=ctx=>{var ext=ctx.getExtension("OES_vertex_array_object");if(ext)return ctx.createVertexArray=()=>ext.createVertexArrayOES(),ctx.deleteVertexArray=vao=>ext.deleteVertexArrayOES(vao),ctx.bindVertexArray=vao=>ext.bindVertexArrayOES(vao),ctx.isVertexArray=vao=>ext.isVertexArrayOES(vao),1},webgl_enable_WEBGL_draw_buffers=ctx=>{var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext)return ctx.drawBuffers=(n,bufs)=>ext.drawBuffersWEBGL(n,bufs),1},webgl_enable_EXT_polygon_offset_clamp=ctx=>!!(ctx.extPolygonOffsetClamp=ctx.getExtension("EXT_polygon_offset_clamp")),webgl_enable_EXT_clip_control=ctx=>!!(ctx.extClipControl=ctx.getExtension("EXT_clip_control")),webgl_enable_WEBGL_polygon_mode=ctx=>!!(ctx.webglPolygonMode=ctx.getExtension("WEBGL_polygon_mode")),webgl_enable_WEBGL_multi_draw=ctx=>!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw")),getEmscriptenSupportedExtensions=ctx=>{var supportedExtensions=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers","EXT_clip_control","EXT_color_buffer_half_float","EXT_depth_clamp","EXT_float_blend","EXT_polygon_offset_clamp","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_blend_func_extended","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw","WEBGL_polygon_mode"];return(ctx.getSupportedExtensions()||[]).filter(ext=>supportedExtensions.includes(ext))},GL={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,unpackRowLength:0,recordError:errorCode=>{GL.lastError||(GL.lastError=errorCode)},getNewId:table=>{for(var ret=GL.counter++,i=table.length;i<ret;i++)table[i]=null;return ret},genObject:(n,buffers,createFunction,objectTable)=>{for(var i=0;i<n;i++){var buffer=GLctx[createFunction](),id=buffer&&GL.getNewId(objectTable);buffer?objectTable[buffer.name=id]=buffer:GL.recordError(1282),HEAP32[buffers+4*i>>2]=id}},getSource:(shader,count,string,length)=>{for(var source="",i=0;i<count;++i){var len=length?HEAPU32[length+4*i>>2]:void 0;source+=UTF8ToString(HEAPU32[string+4*i>>2],len)}return source},createContext:(canvas,webGLContextAttributes)=>{canvas.getContextSafariWebGL2Fixed||(canvas.getContextSafariWebGL2Fixed=canvas.getContext,canvas.getContext=function(ver,attrs){return attrs=canvas.getContextSafariWebGL2Fixed(ver,attrs),"webgl"==ver==attrs instanceof WebGLRenderingContext?attrs:null});var ctx=canvas.getContext("webgl",webGLContextAttributes);return ctx?GL.registerContext(ctx,webGLContextAttributes):0},registerContext:(ctx,webGLContextAttributes)=>{var handle=GL.getNewId(GL.contexts),context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};return ctx.canvas&&(ctx.canvas.GLctxObject=context),GL.contexts[handle]=context,void 0!==webGLContextAttributes.enableExtensionsByDefault&&!webGLContextAttributes.enableExtensionsByDefault||GL.initExtensions(context),handle},makeContextCurrent:contextHandle=>(GL.currentContext=GL.contexts[contextHandle],Module.ctx=GLctx=GL.currentContext?.GLctx,!(contextHandle&&!GLctx)),getContext:contextHandle=>GL.contexts[contextHandle],deleteContext:contextHandle=>{GL.currentContext===GL.contexts[contextHandle]&&(GL.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas),GL.contexts[contextHandle]?.GLctx.canvas&&(GL.contexts[contextHandle].GLctx.canvas.GLctxObject=void 0),GL.contexts[contextHandle]=null},initExtensions:context=>{var GLctx;(context||=GL.currentContext).initExtensionsDone||(context.initExtensionsDone=!0,webgl_enable_WEBGL_multi_draw(GLctx=context.GLctx),webgl_enable_EXT_polygon_offset_clamp(GLctx),webgl_enable_EXT_clip_control(GLctx),webgl_enable_WEBGL_polygon_mode(GLctx),webgl_enable_ANGLE_instanced_arrays(GLctx),webgl_enable_OES_vertex_array_object(GLctx),webgl_enable_WEBGL_draw_buffers(GLctx),GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query"),getEmscriptenSupportedExtensions(GLctx).forEach(ext=>{ext.includes("lose_context")||ext.includes("debug")||GLctx.getExtension(ext)}))}},_eglCreateContext=(display,config,hmm,contextAttribs)=>{if(62e3!=display)return EGL.setErrorCode(12296),0;for(var glesContextVersion=1;;){var param=HEAP32[contextAttribs>>2];if(12440!=param){if(12344==param)break;return EGL.setErrorCode(12292),0}glesContextVersion=HEAP32[contextAttribs+4>>2],contextAttribs+=8}return 2!=glesContextVersion?(EGL.setErrorCode(12293),0):(EGL.contextAttributes.majorVersion=glesContextVersion-1,EGL.contextAttributes.minorVersion=0,EGL.context=GL.createContext(Browser.getCanvas(),EGL.contextAttributes),0!=EGL.context?(EGL.setErrorCode(12288),GL.makeContextCurrent(EGL.context),Browser.useWebGL=!0,Browser.moduleContextCreatedCallbacks.forEach(callback=>callback()),GL.makeContextCurrent(null),62004):(EGL.setErrorCode(12297),0))},_eglCreateWindowSurface=(display,config,win,attrib_list)=>62e3!=display?(EGL.setErrorCode(12296),0):62002!=config?(EGL.setErrorCode(12293),0):(EGL.setErrorCode(12288),62006),_eglDestroyContext=(display,context)=>62e3!=display?(EGL.setErrorCode(12296),0):62004!=context?(EGL.setErrorCode(12294),0):(GL.deleteContext(EGL.context),EGL.setErrorCode(12288),EGL.currentContext==context&&(EGL.currentContext=0),1),_eglDestroySurface=(display,surface)=>62e3!=display?(EGL.setErrorCode(12296),0):(62006!=surface?EGL.setErrorCode(12301):(EGL.currentReadSurface==surface&&(EGL.currentReadSurface=0),EGL.currentDrawSurface==surface&&(EGL.currentDrawSurface=0),EGL.setErrorCode(12288)),1),_eglGetConfigAttrib=(display,config,attribute,value)=>{if(62e3!=display)return EGL.setErrorCode(12296),0;if(62002!=config)return EGL.setErrorCode(12293),0;if(!value)return EGL.setErrorCode(12300),0;switch(EGL.setErrorCode(12288),attribute){case 12320:return HEAP32[value>>2]=EGL.contextAttributes.alpha?32:24,1;case 12321:return HEAP32[value>>2]=EGL.contextAttributes.alpha?8:0,1;case 12322:case 12323:case 12324:return HEAP32[value>>2]=8,1;case 12325:return HEAP32[value>>2]=EGL.contextAttributes.depth?24:0,1;case 12326:return HEAP32[value>>2]=EGL.contextAttributes.stencil?8:0,1;case 12327:return HEAP32[value>>2]=12344,1;case 12328:return HEAP32[value>>2]=62002,1;case 12329:return HEAP32[value>>2]=0,1;case 12330:return HEAP32[value>>2]=4096,1;case 12331:return HEAP32[value>>2]=16777216,1;case 12332:return HEAP32[value>>2]=4096,1;case 12333:case 12334:return HEAP32[value>>2]=0,1;case 12335:return HEAP32[value>>2]=12344,1;case 12337:return HEAP32[value>>2]=EGL.contextAttributes.antialias?4:0,1;case 12338:return HEAP32[value>>2]=EGL.contextAttributes.antialias?1:0,1;case 12339:return HEAP32[value>>2]=4,1;case 12340:return HEAP32[value>>2]=12344,1;case 12341:case 12342:case 12343:return HEAP32[value>>2]=-1,1;case 12345:case 12346:case 12347:return HEAP32[value>>2]=0,1;case 12348:return HEAP32[value>>2]=1;case 12349:case 12350:return HEAP32[value>>2]=0,1;case 12351:return HEAP32[value>>2]=12430,1;case 12352:return HEAP32[value>>2]=4,1;case 12354:return HEAP32[value>>2]=0,1;default:return EGL.setErrorCode(12292),0}},_eglGetDisplay=nativeDisplayType=>(EGL.setErrorCode(12288),0!=nativeDisplayType&&1!=nativeDisplayType?0:62e3),_eglGetError=()=>EGL.errorCode,_eglInitialize=(display,majorVersion,minorVersion)=>62e3!=display?(EGL.setErrorCode(12296),0):(majorVersion&&(HEAP32[majorVersion>>2]=1),minorVersion&&(HEAP32[minorVersion>>2]=4),EGL.defaultDisplayInitialized=!0,EGL.setErrorCode(12288),1),_eglMakeCurrent=(display,draw,read,context)=>62e3!=display?(EGL.setErrorCode(12296),0):0!=context&&62004!=context?(EGL.setErrorCode(12294),0):0!=read&&62006!=read||0!=draw&&62006!=draw?(EGL.setErrorCode(12301),0):(GL.makeContextCurrent(context?EGL.context:null),EGL.currentContext=context,EGL.currentDrawSurface=draw,EGL.currentReadSurface=read,EGL.setErrorCode(12288),1),stringToNewUTF8=str=>{var size=lengthBytesUTF8(str)+1,ret=_malloc(size);return ret&&stringToUTF8(str,ret,size),ret},_eglQueryString=(display,name)=>{if(62e3!=display)return EGL.setErrorCode(12296),0;if(EGL.setErrorCode(12288),EGL.stringCache[name])return EGL.stringCache[name];var ret;switch(name){case 12371:ret=stringToNewUTF8("Emscripten");break;case 12372:ret=stringToNewUTF8("1.4 Emscripten EGL");break;case 12373:ret=stringToNewUTF8("");break;case 12429:ret=stringToNewUTF8("OpenGL_ES");break;default:return EGL.setErrorCode(12300),0}return EGL.stringCache[name]=ret},_eglSwapBuffers=(dpy,surface)=>{if(EGL.defaultDisplayInitialized)if(GLctx){if(!GLctx.isContextLost())return EGL.setErrorCode(12288),1;EGL.setErrorCode(12302)}else EGL.setErrorCode(12290);else EGL.setErrorCode(12289);return 0},setMainLoop=(iterFunc,fps,simulateInfiniteLoop,arg,noSetTiming)=>{MainLoop.func=iterFunc,MainLoop.arg=arg;var thisMainLoopId=MainLoop.currentlyRunningMainloop;function checkIsRunning(){if(!(thisMainLoopId<MainLoop.currentlyRunningMainloop))return 1;maybeExit()}if(MainLoop.running=!1,MainLoop.runner=function(){var blocker,remaining,next;if(!ABORT)return 0<MainLoop.queue.length?(Date.now(),(blocker=MainLoop.queue.shift()).func(blocker.arg),MainLoop.remainingBlockers&&(next=(remaining=MainLoop.remainingBlockers)%1==0?remaining-1:Math.floor(remaining),blocker.counted?MainLoop.remainingBlockers=next:MainLoop.remainingBlockers=(8*remaining+(next+=.5))/9),MainLoop.updateStatus(),checkIsRunning()?void setTimeout(MainLoop.runner,0):void 0):void(checkIsRunning()&&(MainLoop.currentFrameNumber=MainLoop.currentFrameNumber+1|0,1==MainLoop.timingMode&&1<MainLoop.timingValue&&MainLoop.currentFrameNumber%MainLoop.timingValue!=0||(0==MainLoop.timingMode&&(MainLoop.tickStartTime=_emscripten_get_now()),MainLoop.runIter(iterFunc),checkIsRunning()))&&MainLoop.scheduler())},noSetTiming||(0<fps?_emscripten_set_main_loop_timing(0,1e3/fps):_emscripten_set_main_loop_timing(1,1),MainLoop.scheduler()),simulateInfiniteLoop)throw"unwind"},MainLoop={running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],preMainLoop:[],postMainLoop:[],pause(){MainLoop.scheduler=null,MainLoop.currentlyRunningMainloop++},resume(){MainLoop.currentlyRunningMainloop++;var timingMode=MainLoop.timingMode,timingValue=MainLoop.timingValue,func=MainLoop.func;MainLoop.func=null,setMainLoop(func,0,!1,MainLoop.arg,!0),_emscripten_set_main_loop_timing(timingMode,timingValue),MainLoop.scheduler()},updateStatus(){var message,remaining;Module.setStatus&&(message=Module.statusMessage||"Please wait...",(remaining=MainLoop.remainingBlockers??0)?remaining<(MainLoop.expectedBlockers??0)?Module.setStatus("{message} ({expected - remaining}/{expected})"):Module.setStatus(message):Module.setStatus(""))},init(){Module.preMainLoop&&MainLoop.preMainLoop.push(Module.preMainLoop),Module.postMainLoop&&MainLoop.postMainLoop.push(Module.postMainLoop)},runIter(func){if(!ABORT){for(var pre of MainLoop.preMainLoop)if(!1===pre())return;callUserCallback(func);for(var post of MainLoop.postMainLoop)post()}},nextRAF:0,fakeRequestAnimationFrame(func){var now=Date.now();if(0===MainLoop.nextRAF)MainLoop.nextRAF=now+1e3/60;else for(;now+2>=MainLoop.nextRAF;)MainLoop.nextRAF+=1e3/60;var delay=Math.max(MainLoop.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame(func){"function"==typeof requestAnimationFrame?requestAnimationFrame(func):MainLoop.fakeRequestAnimationFrame(func)}},_emscripten_set_main_loop_timing=(mode,value)=>{var setImmediates;return MainLoop.timingMode=mode,MainLoop.timingValue=value,MainLoop.func?(MainLoop.running||(MainLoop.running=!0),0==mode?(MainLoop.scheduler=function(){var timeUntilNextTick=0|Math.max(0,MainLoop.tickStartTime+value-_emscripten_get_now());setTimeout(MainLoop.runner,timeUntilNextTick)},MainLoop.method="timeout"):1==mode?(MainLoop.scheduler=function(){MainLoop.requestAnimationFrame(MainLoop.runner)},MainLoop.method="rAF"):2==mode&&(void 0===MainLoop.setImmediate&&("undefined"==typeof setImmediate?(setImmediates=[],addEventListener("message",event=>{"setimmediate"!==event.data&&"setimmediate"!==event.data.target||(event.stopPropagation(),setImmediates.shift()())},!0),MainLoop.setImmediate=func=>{setImmediates.push(func),ENVIRONMENT_IS_WORKER?(Module.setImmediates??=[],Module.setImmediates.push(func),postMessage({target:"setimmediate"})):postMessage("setimmediate","*")}):MainLoop.setImmediate=setImmediate),MainLoop.scheduler=function(){MainLoop.setImmediate(MainLoop.runner)},MainLoop.method="immediate"),0):1},_eglSwapInterval=(display,interval)=>62e3!=display?(EGL.setErrorCode(12296),0):(0==interval?_emscripten_set_main_loop_timing(0,0):_emscripten_set_main_loop_timing(1,interval),EGL.setErrorCode(12288),1),_eglTerminate=display=>62e3!=display?(EGL.setErrorCode(12296),0):(EGL.currentContext=0,EGL.currentReadSurface=0,EGL.currentDrawSurface=0,EGL.defaultDisplayInitialized=!1,EGL.setErrorCode(12288),1),_eglWaitClient=()=>(EGL.setErrorCode(12288),1),_eglWaitGL=_eglWaitClient,_eglWaitNative=nativeEngineId=>(EGL.setErrorCode(12288),1),readEmAsmArgsArray=[],readEmAsmArgs=(sigPtr,buf)=>{var ch;for(readEmAsmArgsArray.length=0;ch=HEAPU8[sigPtr++];){var wide=105!=ch;buf+=(wide&=112!=ch)&&buf%8?4:0,readEmAsmArgsArray.push(112==ch?HEAPU32[buf>>2]:106==ch?HEAP64[buf>>3]:105==ch?HEAP32[buf>>2]:HEAPF64[buf>>3]),buf+=wide?8:4}return readEmAsmArgsArray},runEmAsmFunction=(code,sigPtr,argbuf)=>{sigPtr=readEmAsmArgs(sigPtr,argbuf);return ASM_CONSTS[code](...sigPtr)},_emscripten_asm_const_int=(code,sigPtr,argbuf)=>runEmAsmFunction(code,sigPtr,argbuf),runMainThreadEmAsm=(emAsmAddr,sigPtr,argbuf,sync)=>{sigPtr=readEmAsmArgs(sigPtr,argbuf);return ASM_CONSTS[emAsmAddr](...sigPtr)},_emscripten_asm_const_int_sync_on_main_thread=(emAsmAddr,sigPtr,argbuf)=>runMainThreadEmAsm(emAsmAddr,sigPtr,argbuf,1),_emscripten_asm_const_ptr_sync_on_main_thread=(emAsmAddr,sigPtr,argbuf)=>runMainThreadEmAsm(emAsmAddr,sigPtr,argbuf,1),_emscripten_cancel_main_loop=()=>{MainLoop.pause(),MainLoop.func=null},onExits=[],addOnExit=cb=>onExits.push(cb),JSEvents={memcpy(target,src,size){HEAP8.set(HEAP8.subarray(src,src+size),target)},removeAllEventListeners(){for(;JSEvents.eventHandlers.length;)JSEvents._removeHandler(JSEvents.eventHandlers.length-1);JSEvents.deferredCalls=[]},inEventHandler:0,deferredCalls:[],deferCall(targetFunction,precedence,argsList){for(var call of JSEvents.deferredCalls)if(call.targetFunction==targetFunction&&((arrA,arrB)=>{if(arrA.length==arrB.length){for(var i in arrA)if(arrA[i]!=arrB[i])return;return 1}})(call.argsList,argsList))return;JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList}),JSEvents.deferredCalls.sort((x,y)=>x.precedence<y.precedence)},removeDeferredCalls(targetFunction){JSEvents.deferredCalls=JSEvents.deferredCalls.filter(call=>call.targetFunction!=targetFunction)},canPerformEventHandlerRequests(){return navigator.userActivation?navigator.userActivation.isActive:JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls(){if(JSEvents.canPerformEventHandlerRequests()){var call,deferredCalls=JSEvents.deferredCalls;JSEvents.deferredCalls=[];for(call of deferredCalls)call.targetFunction(...call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:(target,eventTypeString)=>{for(var i=0;i<JSEvents.eventHandlers.length;++i)JSEvents.eventHandlers[i].target!=target||eventTypeString&&eventTypeString!=JSEvents.eventHandlers[i].eventTypeString||JSEvents._removeHandler(i--)},_removeHandler(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture),JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler(eventHandler){if(!eventHandler.target)return-4;if(eventHandler.callbackfunc)eventHandler.eventListenerFunc=function(event){++JSEvents.inEventHandler,JSEvents.currentEventHandler=eventHandler,JSEvents.runDeferredCalls(),eventHandler.handlerFunc(event),JSEvents.runDeferredCalls(),--JSEvents.inEventHandler},eventHandler.target.addEventListener(eventHandler.eventTypeString,eventHandler.eventListenerFunc,eventHandler.useCapture),JSEvents.eventHandlers.push(eventHandler);else for(var i=0;i<JSEvents.eventHandlers.length;++i)JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString&&JSEvents._removeHandler(i--);return 0},getNodeNameForTarget(target){return target?target==window?"#window":target==screen?"#screen":target?.nodeName||"":""},fullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},specialHTMLTargets=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0],maybeCStringToJsString=cString=>2<cString?UTF8ToString(cString):cString,findEventTarget=target=>(target=maybeCStringToJsString(target),specialHTMLTargets[target]||("undefined"!=typeof document?document.querySelector(target):null)),findCanvasEventTarget=findEventTarget,_emscripten_get_canvas_element_size=(target,width,height)=>{target=findCanvasEventTarget(target);if(!target)return-4;HEAP32[width>>2]=target.width,HEAP32[height>>2]=target.height},stackAlloc=sz=>__emscripten_stack_alloc(sz),stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1,ret=stackAlloc(size);return stringToUTF8(str,ret,size),ret},getCanvasElementSize=target=>{var sp=stackSave(),w=stackAlloc(8),h=w+4,target=stringToUTF8OnStack(target.id),target=(_emscripten_get_canvas_element_size(target,w,h),[HEAP32[w>>2],HEAP32[h>>2]]);return stackRestore(sp),target},_emscripten_set_canvas_element_size=(target,width,height)=>{target=findCanvasEventTarget(target);return target?(target.width=width,target.height=height,0):-4},setCanvasElementSize=(target,width,height)=>{var sp,targetInt;target.controlTransferredOffscreen?(sp=stackSave(),targetInt=stringToUTF8OnStack(target.id),_emscripten_set_canvas_element_size(targetInt,width,height),stackRestore(sp)):(target.width=width,target.height=height)},currentFullscreenStrategy={},registerRestoreOldStyle=canvas=>{var canvasSize=getCanvasElementSize(canvas),oldWidth=canvasSize[0],oldHeight=canvasSize[1],oldCssWidth=canvas.style.width,oldCssHeight=canvas.style.height,oldBackgroundColor=canvas.style.backgroundColor,oldDocumentBackgroundColor=document.body.style.backgroundColor,oldPaddingLeft=canvas.style.paddingLeft,oldPaddingRight=canvas.style.paddingRight,oldPaddingTop=canvas.style.paddingTop,oldPaddingBottom=canvas.style.paddingBottom,oldMarginLeft=canvas.style.marginLeft,oldMarginRight=canvas.style.marginRight,oldMarginTop=canvas.style.marginTop,oldMarginBottom=canvas.style.marginBottom,oldDocumentBodyMargin=document.body.style.margin,oldDocumentOverflow=document.documentElement.style.overflow,oldDocumentScroll=document.body.scroll,oldImageRendering=canvas.style.imageRendering;function restoreOldStyle(){var a3;getFullscreenElement()||(document.removeEventListener("fullscreenchange",restoreOldStyle),document.removeEventListener("webkitfullscreenchange",restoreOldStyle),setCanvasElementSize(canvas,oldWidth,oldHeight),canvas.style.width=oldCssWidth,canvas.style.height=oldCssHeight,canvas.style.backgroundColor=oldBackgroundColor,oldDocumentBackgroundColor||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=oldDocumentBackgroundColor,canvas.style.paddingLeft=oldPaddingLeft,canvas.style.paddingRight=oldPaddingRight,canvas.style.paddingTop=oldPaddingTop,canvas.style.paddingBottom=oldPaddingBottom,canvas.style.marginLeft=oldMarginLeft,canvas.style.marginRight=oldMarginRight,canvas.style.marginTop=oldMarginTop,canvas.style.marginBottom=oldMarginBottom,document.body.style.margin=oldDocumentBodyMargin,document.documentElement.style.overflow=oldDocumentOverflow,document.body.scroll=oldDocumentScroll,canvas.style.imageRendering=oldImageRendering,canvas.GLctxObject&&canvas.GLctxObject.GLctx.viewport(0,0,oldWidth,oldHeight),currentFullscreenStrategy.canvasResizedCallback&&(a3=currentFullscreenStrategy.canvasResizedCallbackUserData,dynCall_iiii(currentFullscreenStrategy.canvasResizedCallback,37,0,a3)))}return document.addEventListener("fullscreenchange",restoreOldStyle),document.addEventListener("webkitfullscreenchange",restoreOldStyle),restoreOldStyle},setLetterbox=(element,topBottom,leftRight)=>{element.style.paddingLeft=element.style.paddingRight=leftRight+"px",element.style.paddingTop=element.style.paddingBottom=topBottom+"px"},getBoundingClientRect=e=>specialHTMLTargets.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0},JSEvents_resizeCanvasForFullscreen=(target,strategy)=>{var restoreOldStyle=registerRestoreOldStyle(target),cssWidth=strategy.softFullscreen?innerWidth:screen.width,cssHeight=strategy.softFullscreen?innerHeight:screen.height,rect=getBoundingClientRect(target),windowedCssWidth=rect.width,rect=rect.height,canvasSize=getCanvasElementSize(target),windowedRttWidth=canvasSize[0],canvasSize=canvasSize[1],windowedCssWidth=(3==strategy.scaleMode?(setLetterbox(target,(cssHeight-rect)/2,(cssWidth-windowedCssWidth)/2),cssWidth=windowedCssWidth,cssHeight=rect):2==strategy.scaleMode&&(cssWidth*canvasSize<windowedRttWidth*cssHeight?(setLetterbox(target,(cssHeight-(windowedCssWidth=canvasSize*cssWidth/windowedRttWidth))/2,0),cssHeight=windowedCssWidth):(setLetterbox(target,0,(cssWidth-(rect=windowedRttWidth*cssHeight/canvasSize))/2),cssWidth=rect)),target.style.backgroundColor||="black",document.body.style.backgroundColor||="black",target.style.width=cssWidth+"px",target.style.height=cssHeight+"px",1==strategy.filteringMode&&(target.style.imageRendering="optimizeSpeed",target.style.imageRendering="-moz-crisp-edges",target.style.imageRendering="-o-crisp-edges",target.style.imageRendering="-webkit-optimize-contrast",target.style.imageRendering="optimize-contrast",target.style.imageRendering="crisp-edges",target.style.imageRendering="pixelated"),2==strategy.canvasResolutionScaleMode?devicePixelRatio:1);return 0!=strategy.canvasResolutionScaleMode&&(setCanvasElementSize(target,windowedRttWidth=cssWidth*windowedCssWidth|0,canvasSize=cssHeight*windowedCssWidth|0),target.GLctxObject)&&target.GLctxObject.GLctx.viewport(0,0,windowedRttWidth,canvasSize),restoreOldStyle},JSEvents_requestFullscreen=(target,strategy)=>{if(0==strategy.scaleMode&&0==strategy.canvasResolutionScaleMode||JSEvents_resizeCanvasForFullscreen(target,strategy),target.requestFullscreen)target.requestFullscreen();else{if(!target.webkitRequestFullscreen)return JSEvents.fullscreenEnabled()?-3:-1;target.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}return(currentFullscreenStrategy=strategy).canvasResizedCallback&&(target=strategy.canvasResizedCallbackUserData,dynCall_iiii(strategy.canvasResizedCallback,37,0,target)),0},_emscripten_exit_fullscreen=()=>{if(!JSEvents.fullscreenEnabled())return-1;JSEvents.removeDeferredCalls(JSEvents_requestFullscreen);var d=specialHTMLTargets[1];if(d.exitFullscreen)d.fullscreenElement&&d.exitFullscreen();else{if(!d.webkitExitFullscreen)return-1;d.webkitFullscreenElement&&d.webkitExitFullscreen()}return 0},requestPointerLock=target=>target.requestPointerLock?(target.requestPointerLock(),0):document.body.requestPointerLock?-3:-1,_emscripten_exit_pointerlock=()=>(JSEvents.removeDeferredCalls(requestPointerLock),document.exitPointerLock?(document.exitPointerLock(),0):-1),__emscripten_runtime_keepalive_clear=()=>{noExitRuntime=!1,runtimeKeepaliveCounter=0},_emscripten_force_exit=status=>{__emscripten_runtime_keepalive_clear(),_exit(status)},_emscripten_get_device_pixel_ratio=()=>"number"==typeof devicePixelRatio&&devicePixelRatio||1,_emscripten_get_element_css_size=(target,width,height)=>(target=findEventTarget(target))?(target=getBoundingClientRect(target),HEAPF64[width>>3]=target.width,HEAPF64[height>>3]=target.height,0):-4,fillGamepadEventData=(eventStruct,e)=>{HEAPF64[eventStruct>>3]=e.timestamp;for(var i=0;i<e.axes.length;++i)HEAPF64[eventStruct+8*i+16>>3]=e.axes[i];for(i=0;i<e.buttons.length;++i)"object"==typeof e.buttons[i]?HEAPF64[eventStruct+8*i+528>>3]=e.buttons[i].value:HEAPF64[eventStruct+8*i+528>>3]=e.buttons[i];for(i=0;i<e.buttons.length;++i)"object"==typeof e.buttons[i]?HEAP8[eventStruct+i+1040]=e.buttons[i].pressed:HEAP8[eventStruct+i+1040]=1==e.buttons[i];HEAP8[eventStruct+1104]=e.connected,HEAP32[eventStruct+1108>>2]=e.index,HEAP32[eventStruct+8>>2]=e.axes.length,HEAP32[eventStruct+12>>2]=e.buttons.length,stringToUTF8(e.id,eventStruct+1112,64),stringToUTF8(e.mapping,eventStruct+1176,64)},_emscripten_get_gamepad_status=(index,gamepadState)=>index<0||index>=JSEvents.lastGamepadState.length?-5:JSEvents.lastGamepadState[index]?(fillGamepadEventData(gamepadState,JSEvents.lastGamepadState[index]),0):-7,_emscripten_get_num_gamepads=()=>JSEvents.lastGamepadState.length,_emscripten_get_screen_size=(width,height)=>{HEAP32[width>>2]=screen.width,HEAP32[height>>2]=screen.height},_glActiveTexture=x0=>GLctx.activeTexture(x0),_emscripten_glActiveTexture=_glActiveTexture,_glAttachShader=(program,shader)=>{GLctx.attachShader(GL.programs[program],GL.shaders[shader])},_emscripten_glAttachShader=_glAttachShader,_glBeginQueryEXT=(target,id)=>{GLctx.disjointTimerQueryExt.beginQueryEXT(target,GL.queries[id])},_emscripten_glBeginQueryEXT=_glBeginQueryEXT,_glBindAttribLocation=(program,index,name)=>{GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))},_emscripten_glBindAttribLocation=_glBindAttribLocation,_glBindBuffer=(target,buffer)=>{GLctx.bindBuffer(target,GL.buffers[buffer])},_emscripten_glBindBuffer=_glBindBuffer,_glBindFramebuffer=(target,framebuffer)=>{GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])},_emscripten_glBindFramebuffer=_glBindFramebuffer,_glBindRenderbuffer=(target,renderbuffer)=>{GLctx.bindRenderbuffer(target,GL.renderbuffers[renderbuffer])},_emscripten_glBindRenderbuffer=_glBindRenderbuffer,_glBindTexture=(target,texture)=>{GLctx.bindTexture(target,GL.textures[texture])},_emscripten_glBindTexture=_glBindTexture,_glBindVertexArray=vao=>{GLctx.bindVertexArray(GL.vaos[vao])},_glBindVertexArrayOES=_glBindVertexArray,_emscripten_glBindVertexArrayOES=_glBindVertexArray,_glBlendColor=(x0,x1,x2,x3)=>GLctx.blendColor(x0,x1,x2,x3),_emscripten_glBlendColor=_glBlendColor,_glBlendEquation=x0=>GLctx.blendEquation(x0),_emscripten_glBlendEquation=_glBlendEquation,_glBlendEquationSeparate=(x0,x1)=>GLctx.blendEquationSeparate(x0,x1),_emscripten_glBlendEquationSeparate=_glBlendEquationSeparate,_glBlendFunc=(x0,x1)=>GLctx.blendFunc(x0,x1),_emscripten_glBlendFunc=_glBlendFunc,_glBlendFuncSeparate=(x0,x1,x2,x3)=>GLctx.blendFuncSeparate(x0,x1,x2,x3),_emscripten_glBlendFuncSeparate=_glBlendFuncSeparate,_glBufferData=(target,size,data,usage)=>{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)},_emscripten_glBufferData=_glBufferData,_glBufferSubData=(target,offset,size,data)=>{GLctx.bufferSubData(target,offset,HEAPU8.subarray(data,data+size))},_emscripten_glBufferSubData=_glBufferSubData,_glCheckFramebufferStatus=x0=>GLctx.checkFramebufferStatus(x0),_emscripten_glCheckFramebufferStatus=_glCheckFramebufferStatus,_glClear=x0=>GLctx.clear(x0),_emscripten_glClear=_glClear,_glClearColor=(x0,x1,x2,x3)=>GLctx.clearColor(x0,x1,x2,x3),_emscripten_glClearColor=_glClearColor,_glClearDepthf=x0=>GLctx.clearDepth(x0),_emscripten_glClearDepthf=_glClearDepthf,_glClearStencil=x0=>GLctx.clearStencil(x0),_emscripten_glClearStencil=_glClearStencil,_glClipControlEXT=(origin,depth)=>{GLctx.extClipControl.clipControlEXT(origin,depth)},_emscripten_glClipControlEXT=_glClipControlEXT,_glColorMask=(red,green,blue,alpha)=>{GLctx.colorMask(!!red,!!green,!!blue,!!alpha)},_emscripten_glColorMask=_glColorMask,_glCompileShader=shader=>{GLctx.compileShader(GL.shaders[shader])},_emscripten_glCompileShader=_glCompileShader,_glCompressedTexImage2D=(target,level,internalFormat,width,height,border,imageSize,data)=>{GLctx.compressedTexImage2D(target,level,internalFormat,width,height,border,HEAPU8.subarray(data,data+imageSize))},_emscripten_glCompressedTexImage2D=_glCompressedTexImage2D,_glCompressedTexSubImage2D=(target,level,xoffset,yoffset,width,height,format,imageSize,data)=>{GLctx.compressedTexSubImage2D(target,level,xoffset,yoffset,width,height,format,HEAPU8.subarray(data,data+imageSize))},_emscripten_glCompressedTexSubImage2D=_glCompressedTexSubImage2D,_glCopyTexImage2D=(x0,x1,x2,x3,x4,x5,x6,x7)=>GLctx.copyTexImage2D(x0,x1,x2,x3,x4,x5,x6,x7),_emscripten_glCopyTexImage2D=_glCopyTexImage2D,_glCopyTexSubImage2D=(x0,x1,x2,x3,x4,x5,x6,x7)=>GLctx.copyTexSubImage2D(x0,x1,x2,x3,x4,x5,x6,x7),_emscripten_glCopyTexSubImage2D=_glCopyTexSubImage2D,_glCreateProgram=()=>{var id=GL.getNewId(GL.programs),program=GLctx.createProgram();return program.name=id,program.maxUniformLength=program.maxAttributeLength=program.maxUniformBlockNameLength=0,program.uniformIdCounter=1,GL.programs[id]=program,id},_emscripten_glCreateProgram=_glCreateProgram,_glCreateShader=shaderType=>{var id=GL.getNewId(GL.shaders);return GL.shaders[id]=GLctx.createShader(shaderType),id},_emscripten_glCreateShader=_glCreateShader,_glCullFace=x0=>GLctx.cullFace(x0),_emscripten_glCullFace=_glCullFace,_glDeleteBuffers=(n,buffers)=>{for(var i=0;i<n;i++){var id=HEAP32[buffers+4*i>>2],buffer=GL.buffers[id];buffer&&(GLctx.deleteBuffer(buffer),buffer.name=0,GL.buffers[id]=null)}},_emscripten_glDeleteBuffers=_glDeleteBuffers,_glDeleteFramebuffers=(n,framebuffers)=>{for(var i=0;i<n;++i){var id=HEAP32[framebuffers+4*i>>2],framebuffer=GL.framebuffers[id];framebuffer&&(GLctx.deleteFramebuffer(framebuffer),framebuffer.name=0,GL.framebuffers[id]=null)}},_emscripten_glDeleteFramebuffers=_glDeleteFramebuffers,_glDeleteProgram=id=>{var program;id&&((program=GL.programs[id])?(GLctx.deleteProgram(program),program.name=0,GL.programs[id]=null):GL.recordError(1281))},_emscripten_glDeleteProgram=_glDeleteProgram,_glDeleteQueriesEXT=(n,ids)=>{for(var i=0;i<n;i++){var id=HEAP32[ids+4*i>>2],query=GL.queries[id];query&&(GLctx.disjointTimerQueryExt.deleteQueryEXT(query),GL.queries[id]=null)}},_emscripten_glDeleteQueriesEXT=_glDeleteQueriesEXT,_glDeleteRenderbuffers=(n,renderbuffers)=>{for(var i=0;i<n;i++){var id=HEAP32[renderbuffers+4*i>>2],renderbuffer=GL.renderbuffers[id];renderbuffer&&(GLctx.deleteRenderbuffer(renderbuffer),renderbuffer.name=0,GL.renderbuffers[id]=null)}},_emscripten_glDeleteRenderbuffers=_glDeleteRenderbuffers,_glDeleteShader=id=>{var shader;id&&((shader=GL.shaders[id])?(GLctx.deleteShader(shader),GL.shaders[id]=null):GL.recordError(1281))},_emscripten_glDeleteShader=_glDeleteShader,_glDeleteTextures=(n,textures)=>{for(var i=0;i<n;i++){var id=HEAP32[textures+4*i>>2],texture=GL.textures[id];texture&&(GLctx.deleteTexture(texture),texture.name=0,GL.textures[id]=null)}},_emscripten_glDeleteTextures=_glDeleteTextures,_glDeleteVertexArrays=(n,vaos)=>{for(var i=0;i<n;i++){var id=HEAP32[vaos+4*i>>2];GLctx.deleteVertexArray(GL.vaos[id]),GL.vaos[id]=null}},_glDeleteVertexArraysOES=_glDeleteVertexArrays,_emscripten_glDeleteVertexArraysOES=_glDeleteVertexArrays,_glDepthFunc=x0=>GLctx.depthFunc(x0),_emscripten_glDepthFunc=_glDepthFunc,_glDepthMask=flag=>{GLctx.depthMask(!!flag)},_emscripten_glDepthMask=_glDepthMask,_glDepthRangef=(x0,x1)=>GLctx.depthRange(x0,x1),_emscripten_glDepthRangef=_glDepthRangef,_glDetachShader=(program,shader)=>{GLctx.detachShader(GL.programs[program],GL.shaders[shader])},_emscripten_glDetachShader=_glDetachShader,_glDisable=x0=>GLctx.disable(x0),_emscripten_glDisable=_glDisable,_glDisableVertexAttribArray=index=>{GLctx.disableVertexAttribArray(index)},_emscripten_glDisableVertexAttribArray=_glDisableVertexAttribArray,_glDrawArrays=(mode,first,count)=>{GLctx.drawArrays(mode,first,count)},_emscripten_glDrawArrays=_glDrawArrays,_glDrawArraysInstanced=(mode,first,count,primcount)=>{GLctx.drawArraysInstanced(mode,first,count,primcount)},_glDrawArraysInstancedANGLE=_glDrawArraysInstanced,_emscripten_glDrawArraysInstancedANGLE=_glDrawArraysInstanced,tempFixedLengthArray=[],_glDrawBuffers=(n,bufs)=>{for(var bufArray=tempFixedLengthArray[n],i=0;i<n;i++)bufArray[i]=HEAP32[bufs+4*i>>2];GLctx.drawBuffers(bufArray)},_glDrawBuffersWEBGL=_glDrawBuffers,_emscripten_glDrawBuffersWEBGL=_glDrawBuffers,_glDrawElements=(mode,count,type,indices)=>{GLctx.drawElements(mode,count,type,indices)},_emscripten_glDrawElements=_glDrawElements,_glDrawElementsInstanced=(mode,count,type,indices,primcount)=>{GLctx.drawElementsInstanced(mode,count,type,indices,primcount)},_glDrawElementsInstancedANGLE=_glDrawElementsInstanced,_emscripten_glDrawElementsInstancedANGLE=_glDrawElementsInstanced,_glEnable=x0=>GLctx.enable(x0),_emscripten_glEnable=_glEnable,_glEnableVertexAttribArray=index=>{GLctx.enableVertexAttribArray(index)},_emscripten_glEnableVertexAttribArray=_glEnableVertexAttribArray,_glEndQueryEXT=target=>{GLctx.disjointTimerQueryExt.endQueryEXT(target)},_emscripten_glEndQueryEXT=_glEndQueryEXT,_glFinish=()=>GLctx.finish(),_emscripten_glFinish=_glFinish,_glFlush=()=>GLctx.flush(),_emscripten_glFlush=_glFlush,_glFramebufferRenderbuffer=(target,attachment,renderbuffertarget,renderbuffer)=>{GLctx.framebufferRenderbuffer(target,attachment,renderbuffertarget,GL.renderbuffers[renderbuffer])},_emscripten_glFramebufferRenderbuffer=_glFramebufferRenderbuffer,_glFramebufferTexture2D=(target,attachment,textarget,texture,level)=>{GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)},_emscripten_glFramebufferTexture2D=_glFramebufferTexture2D,_glFrontFace=x0=>GLctx.frontFace(x0),_emscripten_glFrontFace=_glFrontFace,_glGenBuffers=(n,buffers)=>{GL.genObject(n,buffers,"createBuffer",GL.buffers)},_emscripten_glGenBuffers=_glGenBuffers,_glGenFramebuffers=(n,ids)=>{GL.genObject(n,ids,"createFramebuffer",GL.framebuffers)},_emscripten_glGenFramebuffers=_glGenFramebuffers,_glGenQueriesEXT=(n,ids)=>{for(var i=0;i<n;i++){var query=GLctx.disjointTimerQueryExt.createQueryEXT();if(!query){for(GL.recordError(1282);i<n;)HEAP32[ids+4*i++>>2]=0;return}var id=GL.getNewId(GL.queries);query.name=id,GL.queries[id]=query,HEAP32[ids+4*i>>2]=id}},_emscripten_glGenQueriesEXT=_glGenQueriesEXT,_glGenRenderbuffers=(n,renderbuffers)=>{GL.genObject(n,renderbuffers,"createRenderbuffer",GL.renderbuffers)},_emscripten_glGenRenderbuffers=_glGenRenderbuffers,_glGenTextures=(n,textures)=>{GL.genObject(n,textures,"createTexture",GL.textures)},_emscripten_glGenTextures=_glGenTextures,_glGenVertexArrays=(n,arrays)=>{GL.genObject(n,arrays,"createVertexArray",GL.vaos)},_glGenVertexArraysOES=_glGenVertexArrays,_emscripten_glGenVertexArraysOES=_glGenVertexArrays,_glGenerateMipmap=x0=>GLctx.generateMipmap(x0),_emscripten_glGenerateMipmap=_glGenerateMipmap,__glGetActiveAttribOrUniform=(funcName,program,index,bufSize,length,size,type,name)=>{program=GL.programs[program];funcName=GLctx[funcName](program,index);funcName&&(program=name&&stringToUTF8(funcName.name,name,bufSize),length&&(HEAP32[length>>2]=program),size&&(HEAP32[size>>2]=funcName.size),type)&&(HEAP32[type>>2]=funcName.type)},_glGetActiveAttrib=(program,index,bufSize,length,size,type,name)=>__glGetActiveAttribOrUniform("getActiveAttrib",program,index,bufSize,length,size,type,name),_emscripten_glGetActiveAttrib=_glGetActiveAttrib,_glGetActiveUniform=(program,index,bufSize,length,size,type,name)=>__glGetActiveAttribOrUniform("getActiveUniform",program,index,bufSize,length,size,type,name),_emscripten_glGetActiveUniform=_glGetActiveUniform,_glGetAttachedShaders=(program,maxCount,count,shaders)=>{var result=GLctx.getAttachedShaders(GL.programs[program]),len=result.length;HEAP32[count>>2]=len=maxCount<len?maxCount:len;for(var i=0;i<len;++i){var id=GL.shaders.indexOf(result[i]);HEAP32[shaders+4*i>>2]=id}},_emscripten_glGetAttachedShaders=_glGetAttachedShaders,_glGetAttribLocation=(program,name)=>GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name)),_emscripten_glGetAttribLocation=_glGetAttribLocation,writeI53ToI64=(ptr,num)=>{HEAPU32[ptr>>2]=num;var lower=HEAPU32[ptr>>2];HEAPU32[ptr+4>>2]=(num-lower)/4294967296},emscriptenWebGLGet=(name_,p,type)=>{if(p){var ret=void 0;switch(name_){case 36346:ret=1;break;case 36344:return void(0!=type&&1!=type&&GL.recordError(1280));case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467),ret=formats?formats.length:0}if(void 0===ret){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":return void GL.recordError(1280);case"object":if(null===result)switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:ret=0;break;default:return void GL.recordError(1280)}else{if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i)switch(type){case 0:HEAP32[p+4*i>>2]=result[i];break;case 2:HEAPF32[p+4*i>>2]=result[i];break;case 4:HEAP8[p+i]=result[i]?1:0}return}try{ret=0|result.name}catch(e){return GL.recordError(1280),void err(`GL_INVALID_ENUM in glGet${type}v: Unknown object returned from WebGL getParameter(${name_})! (error: ${e})`)}}break;default:return GL.recordError(1280),void err(`GL_INVALID_ENUM in glGet${type}v: Native code calling glGet${type}v(${name_}) and it returns ${result} of type ${typeof result}!`)}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p]=ret?1:0}}else GL.recordError(1281)},_glGetBooleanv=(name_,p)=>emscriptenWebGLGet(name_,p,4),_emscripten_glGetBooleanv=_glGetBooleanv,_glGetBufferParameteriv=(target,value,data)=>{data?HEAP32[data>>2]=GLctx.getBufferParameter(target,value):GL.recordError(1281)},_emscripten_glGetBufferParameteriv=_glGetBufferParameteriv,_glGetError=()=>{var error=GLctx.getError()||GL.lastError;return GL.lastError=0,error},_emscripten_glGetError=_glGetError,_glGetFloatv=(name_,p)=>emscriptenWebGLGet(name_,p,2),_emscripten_glGetFloatv=_glGetFloatv,_glGetFramebufferAttachmentParameteriv=(target,attachment,pname,params)=>{target=GLctx.getFramebufferAttachmentParameter(target,attachment,pname);(target instanceof WebGLRenderbuffer||target instanceof WebGLTexture)&&(target=0|target.name),HEAP32[params>>2]=target},_emscripten_glGetFramebufferAttachmentParameteriv=_glGetFramebufferAttachmentParameteriv,_glGetIntegerv=(name_,p)=>emscriptenWebGLGet(name_,p,0),_emscripten_glGetIntegerv=_glGetIntegerv,_glGetProgramInfoLog=(program,maxLength,length,infoLog)=>{program=GLctx.getProgramInfoLog(GL.programs[program]),null===program&&(program="(unknown error)"),program=0<maxLength&&infoLog?stringToUTF8(program,infoLog,maxLength):0;length&&(HEAP32[length>>2]=program)},_emscripten_glGetProgramInfoLog=_glGetProgramInfoLog,_glGetProgramiv=(program,pname,p)=>{if(p)if(program>=GL.counter)GL.recordError(1281);else if(program=GL.programs[program],35716==pname){var log=GLctx.getProgramInfoLog(program);HEAP32[p>>2]=(log=null===log?"(unknown error)":log).length+1}else if(35719==pname){if(!program.maxUniformLength)for(var numActiveUniforms=GLctx.getProgramParameter(program,35718),i=0;i<numActiveUniforms;++i)program.maxUniformLength=Math.max(program.maxUniformLength,GLctx.getActiveUniform(program,i).name.length+1);HEAP32[p>>2]=program.maxUniformLength}else if(35722==pname){if(!program.maxAttributeLength)for(var numActiveAttributes=GLctx.getProgramParameter(program,35721),i=0;i<numActiveAttributes;++i)program.maxAttributeLength=Math.max(program.maxAttributeLength,GLctx.getActiveAttrib(program,i).name.length+1);HEAP32[p>>2]=program.maxAttributeLength}else if(35381==pname){if(!program.maxUniformBlockNameLength)for(var numActiveUniformBlocks=GLctx.getProgramParameter(program,35382),i=0;i<numActiveUniformBlocks;++i)program.maxUniformBlockNameLength=Math.max(program.maxUniformBlockNameLength,GLctx.getActiveUniformBlockName(program,i).length+1);HEAP32[p>>2]=program.maxUniformBlockNameLength}else HEAP32[p>>2]=GLctx.getProgramParameter(program,pname);else GL.recordError(1281)},_emscripten_glGetProgramiv=_glGetProgramiv,_glGetQueryObjecti64vEXT=(id,pname,params)=>{params?(id=GL.queries[id],id=GLctx.disjointTimerQueryExt.getQueryObjectEXT(id,pname),writeI53ToI64(params,"boolean"==typeof id?id?1:0:id)):GL.recordError(1281)},_emscripten_glGetQueryObjecti64vEXT=_glGetQueryObjecti64vEXT,_glGetQueryObjectivEXT=(id,pname,params)=>{params?(id=GL.queries[id],id=GLctx.disjointTimerQueryExt.getQueryObjectEXT(id,pname),HEAP32[params>>2]="boolean"==typeof id?id?1:0:id):GL.recordError(1281)},_emscripten_glGetQueryObjectivEXT=_glGetQueryObjectivEXT,_glGetQueryObjectui64vEXT=_glGetQueryObjecti64vEXT,_emscripten_glGetQueryObjectui64vEXT=_glGetQueryObjecti64vEXT,_glGetQueryObjectuivEXT=_glGetQueryObjectivEXT,_emscripten_glGetQueryObjectuivEXT=_glGetQueryObjectivEXT,_glGetQueryivEXT=(target,pname,params)=>{params?HEAP32[params>>2]=GLctx.disjointTimerQueryExt.getQueryEXT(target,pname):GL.recordError(1281)},_emscripten_glGetQueryivEXT=_glGetQueryivEXT,_glGetRenderbufferParameteriv=(target,pname,params)=>{params?HEAP32[params>>2]=GLctx.getRenderbufferParameter(target,pname):GL.recordError(1281)},_emscripten_glGetRenderbufferParameteriv=_glGetRenderbufferParameteriv,_glGetShaderInfoLog=(shader,maxLength,length,infoLog)=>{shader=GLctx.getShaderInfoLog(GL.shaders[shader]),null===shader&&(shader="(unknown error)"),shader=0<maxLength&&infoLog?stringToUTF8(shader,infoLog,maxLength):0;length&&(HEAP32[length>>2]=shader)},_emscripten_glGetShaderInfoLog=_glGetShaderInfoLog,_glGetShaderPrecisionFormat=(shaderType,precisionType,range,precision)=>{shaderType=GLctx.getShaderPrecisionFormat(shaderType,precisionType);HEAP32[range>>2]=shaderType.rangeMin,HEAP32[range+4>>2]=shaderType.rangeMax,HEAP32[precision>>2]=shaderType.precision},_emscripten_glGetShaderPrecisionFormat=_glGetShaderPrecisionFormat,_glGetShaderSource=(shader,bufSize,length,source)=>{var shader=GLctx.getShaderSource(GL.shaders[shader]);shader&&(shader=0<bufSize&&source?stringToUTF8(shader,source,bufSize):0,length)&&(HEAP32[length>>2]=shader)},_emscripten_glGetShaderSource=_glGetShaderSource,_glGetShaderiv=(shader,pname,p)=>{var log;p?35716==pname?(log=(log=null===(log=GLctx.getShaderInfoLog(GL.shaders[shader]))?"(unknown error)":log)?log.length+1:0,HEAP32[p>>2]=log):35720==pname?(log=(log=GLctx.getShaderSource(GL.shaders[shader]))?log.length+1:0,HEAP32[p>>2]=log):HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname):GL.recordError(1281)},_emscripten_glGetShaderiv=_glGetShaderiv,webglGetExtensions=()=>{var exts=getEmscriptenSupportedExtensions(GLctx);return exts=exts.concat(exts.map(e=>"GL_"+e))},_glGetString=name_=>{if(!(ret=GL.stringCache[name_])){switch(name_){case 7939:ret=stringToNewUTF8(webglGetExtensions().join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);s||GL.recordError(1280),ret=s?stringToNewUTF8(s):0;break;case 7938:var s=GLctx.getParameter(7938),ret=stringToNewUTF8(`OpenGL ES 2.0 (${s})`);break;case 35724:var s=GLctx.getParameter(35724),ver_num=s.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==ver_num&&(3==ver_num[1].length&&(ver_num[1]=ver_num[1]+"0"),s=`OpenGL ES GLSL ES ${ver_num[1]} (${s})`),ret=stringToNewUTF8(s);break;default:GL.recordError(1280)}GL.stringCache[name_]=ret}return ret},_emscripten_glGetString=_glGetString,_glGetTexParameterfv=(target,pname,params)=>{params?HEAPF32[params>>2]=GLctx.getTexParameter(target,pname):GL.recordError(1281)},_emscripten_glGetTexParameterfv=_glGetTexParameterfv,_glGetTexParameteriv=(target,pname,params)=>{params?HEAP32[params>>2]=GLctx.getTexParameter(target,pname):GL.recordError(1281)},_emscripten_glGetTexParameteriv=_glGetTexParameteriv,jstoi_q=str=>parseInt(str),webglGetLeftBracePos=name=>"]"==name.slice(-1)&&name.lastIndexOf("["),webglPrepareUniformLocationsBeforeFirstUse=program=>{var j,uniformLocsById=program.uniformLocsById,uniformSizeAndIdsByName=program.uniformSizeAndIdsByName;if(!uniformLocsById){program.uniformLocsById=uniformLocsById={},program.uniformArrayNamesById={};for(var numActiveUniforms=GLctx.getProgramParameter(program,35718),i=0;i<numActiveUniforms;++i){var u=GLctx.getActiveUniform(program,i),nm=u.name,sz=u.size,u=webglGetLeftBracePos(nm),arrayName=0<u?nm.slice(0,u):nm,id=program.uniformIdCounter;for(program.uniformIdCounter+=sz,uniformSizeAndIdsByName[arrayName]=[sz,id],j=0;j<sz;++j)uniformLocsById[id]=j,program.uniformArrayNamesById[id++]=arrayName}}},_glGetUniformLocation=(program,name)=>{if(name=UTF8ToString(name),program=GL.programs[program]){webglPrepareUniformLocationsBeforeFirstUse(program);var uniformLocsById=program.uniformLocsById,arrayIndex=0,uniformBaseName=name,leftBrace=webglGetLeftBracePos(name),leftBrace=(0<leftBrace&&(arrayIndex=jstoi_q(name.slice(leftBrace+1))>>>0,uniformBaseName=name.slice(0,leftBrace)),program.uniformSizeAndIdsByName[uniformBaseName]);if(leftBrace&&arrayIndex<leftBrace[0]&&(uniformLocsById[arrayIndex+=leftBrace[1]]=uniformLocsById[arrayIndex]||GLctx.getUniformLocation(program,name)))return arrayIndex}else GL.recordError(1281);return-1},_emscripten_glGetUniformLocation=_glGetUniformLocation,webglGetUniformLocation=location=>{var webglLoc,p=GLctx.currentProgram;if(p)return"number"==typeof(webglLoc=p.uniformLocsById[location])&&(p.uniformLocsById[location]=webglLoc=GLctx.getUniformLocation(p,p.uniformArrayNamesById[location]+(0<webglLoc?`[${webglLoc}]`:""))),webglLoc;GL.recordError(1282)},emscriptenWebGLGetUniform=(program,location,params,type)=>{if(params){program=GL.programs[program],webglPrepareUniformLocationsBeforeFirstUse(program);var data=GLctx.getUniform(program,webglGetUniformLocation(location));if("number"==typeof data||"boolean"==typeof data)switch(type){case 0:HEAP32[params>>2]=data;break;case 2:HEAPF32[params>>2]=data}else for(var i=0;i<data.length;i++)switch(type){case 0:HEAP32[params+4*i>>2]=data[i];break;case 2:HEAPF32[params+4*i>>2]=data[i]}}else GL.recordError(1281)},_glGetUniformfv=(program,location,params)=>{emscriptenWebGLGetUniform(program,location,params,2)},_emscripten_glGetUniformfv=_glGetUniformfv,_glGetUniformiv=(program,location,params)=>{emscriptenWebGLGetUniform(program,location,params,0)},_emscripten_glGetUniformiv=_glGetUniformiv,_glGetVertexAttribPointerv=(index,pname,pointer)=>{pointer?HEAP32[pointer>>2]=GLctx.getVertexAttribOffset(index,pname):GL.recordError(1281)},_emscripten_glGetVertexAttribPointerv=_glGetVertexAttribPointerv,emscriptenWebGLGetVertexAttrib=(index,pname,params,type)=>{if(params){var data=GLctx.getVertexAttrib(index,pname);if(34975==pname)HEAP32[params>>2]=data&&data.name;else if("number"==typeof data||"boolean"==typeof data)switch(type){case 0:HEAP32[params>>2]=data;break;case 2:HEAPF32[params>>2]=data;break;case 5:HEAP32[params>>2]=Math.fround(data)}else for(var i=0;i<data.length;i++)switch(type){case 0:HEAP32[params+4*i>>2]=data[i];break;case 2:HEAPF32[params+4*i>>2]=data[i];break;case 5:HEAP32[params+4*i>>2]=Math.fround(data[i])}}else GL.recordError(1281)},_glGetVertexAttribfv=(index,pname,params)=>{emscriptenWebGLGetVertexAttrib(index,pname,params,2)},_emscripten_glGetVertexAttribfv=_glGetVertexAttribfv,_glGetVertexAttribiv=(index,pname,params)=>{emscriptenWebGLGetVertexAttrib(index,pname,params,5)},_emscripten_glGetVertexAttribiv=_glGetVertexAttribiv,_glHint=(x0,x1)=>GLctx.hint(x0,x1),_emscripten_glHint=_glHint,_glIsBuffer=buffer=>{buffer=GL.buffers[buffer];return buffer?GLctx.isBuffer(buffer):0},_emscripten_glIsBuffer=_glIsBuffer,_glIsEnabled=x0=>GLctx.isEnabled(x0),_emscripten_glIsEnabled=_glIsEnabled,_glIsFramebuffer=framebuffer=>{framebuffer=GL.framebuffers[framebuffer];return framebuffer?GLctx.isFramebuffer(framebuffer):0},_emscripten_glIsFramebuffer=_glIsFramebuffer,_glIsProgram=program=>(program=GL.programs[program])?GLctx.isProgram(program):0,_emscripten_glIsProgram=_glIsProgram,_glIsQueryEXT=id=>{id=GL.queries[id];return id?GLctx.disjointTimerQueryExt.isQueryEXT(id):0},_emscripten_glIsQueryEXT=_glIsQueryEXT,_glIsRenderbuffer=renderbuffer=>{renderbuffer=GL.renderbuffers[renderbuffer];return renderbuffer?GLctx.isRenderbuffer(renderbuffer):0},_emscripten_glIsRenderbuffer=_glIsRenderbuffer,_glIsShader=shader=>{shader=GL.shaders[shader];return shader?GLctx.isShader(shader):0},_emscripten_glIsShader=_glIsShader,_glIsTexture=id=>{id=GL.textures[id];return id?GLctx.isTexture(id):0},_emscripten_glIsTexture=_glIsTexture,_glIsVertexArray=array=>{array=GL.vaos[array];return array?GLctx.isVertexArray(array):0},_glIsVertexArrayOES=_glIsVertexArray,_emscripten_glIsVertexArrayOES=_glIsVertexArray,_glLineWidth=x0=>GLctx.lineWidth(x0),_emscripten_glLineWidth=_glLineWidth,_glLinkProgram=program=>{program=GL.programs[program],GLctx.linkProgram(program),program.uniformLocsById=0,program.uniformSizeAndIdsByName={}},_emscripten_glLinkProgram=_glLinkProgram,_glPixelStorei=(pname,param)=>{3317==pname?GL.unpackAlignment=param:3314==pname&&(GL.unpackRowLength=param),GLctx.pixelStorei(pname,param)},_emscripten_glPixelStorei=_glPixelStorei,_glPolygonModeWEBGL=(face,mode)=>{GLctx.webglPolygonMode.polygonModeWEBGL(face,mode)},_emscripten_glPolygonModeWEBGL=_glPolygonModeWEBGL,_glPolygonOffset=(x0,x1)=>GLctx.polygonOffset(x0,x1),_emscripten_glPolygonOffset=_glPolygonOffset,_glPolygonOffsetClampEXT=(factor,units,clamp)=>{GLctx.extPolygonOffsetClamp.polygonOffsetClampEXT(factor,units,clamp)},_emscripten_glPolygonOffsetClampEXT=_glPolygonOffsetClampEXT,_glQueryCounterEXT=(id,target)=>{GLctx.disjointTimerQueryExt.queryCounterEXT(GL.queries[id],target)},_emscripten_glQueryCounterEXT=_glQueryCounterEXT,computeUnpackAlignedImageSize=(width,height,sizePerPixel)=>height*((GL.unpackRowLength||width)*sizePerPixel+(height=GL.unpackAlignment)-1&-height),colorChannelsInGlTextureFormat=format=>({5:3,6:4,8:2,29502:3,29504:4})[format-6402]||1,heapObjectForWebGLType=type=>1==(type-=5120)?HEAPU8:4==type?HEAP32:6==type?HEAPF32:5==type||28922==type?HEAPU32:HEAPU16,toTypedArrayIndex=(pointer,heap)=>pointer>>>31-Math.clz32(heap.BYTES_PER_ELEMENT),emscriptenWebGLGetTexPixelData=(type,format,width,height,pixels,internalFormat)=>{type=heapObjectForWebGLType(type),format=colorChannelsInGlTextureFormat(format)*type.BYTES_PER_ELEMENT,width=computeUnpackAlignedImageSize(width,height,format);return type.subarray(toTypedArrayIndex(pixels,type),toTypedArrayIndex(pixels+width,type))},_glReadPixels=(x,y,width,height,format,type,pixels)=>{pixels=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);pixels?GLctx.readPixels(x,y,width,height,format,type,pixels):GL.recordError(1280)},_emscripten_glReadPixels=_glReadPixels,_glReleaseShaderCompiler=()=>{},_emscripten_glReleaseShaderCompiler=_glReleaseShaderCompiler,_glRenderbufferStorage=(x0,x1,x2,x3)=>GLctx.renderbufferStorage(x0,x1,x2,x3),_emscripten_glRenderbufferStorage=_glRenderbufferStorage,_glSampleCoverage=(value,invert)=>{GLctx.sampleCoverage(value,!!invert)},_emscripten_glSampleCoverage=_glSampleCoverage,_glScissor=(x0,x1,x2,x3)=>GLctx.scissor(x0,x1,x2,x3),_emscripten_glScissor=_glScissor,_glShaderBinary=(count,shaders,binaryformat,binary,length)=>{GL.recordError(1280)},_emscripten_glShaderBinary=_glShaderBinary,_glShaderSource=(shader,count,string,length)=>{count=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],count)},_emscripten_glShaderSource=_glShaderSource,_glStencilFunc=(x0,x1,x2)=>GLctx.stencilFunc(x0,x1,x2),_emscripten_glStencilFunc=_glStencilFunc,_glStencilFuncSeparate=(x0,x1,x2,x3)=>GLctx.stencilFuncSeparate(x0,x1,x2,x3),_emscripten_glStencilFuncSeparate=_glStencilFuncSeparate,_glStencilMask=x0=>GLctx.stencilMask(x0),_emscripten_glStencilMask=_glStencilMask,_glStencilMaskSeparate=(x0,x1)=>GLctx.stencilMaskSeparate(x0,x1),_emscripten_glStencilMaskSeparate=_glStencilMaskSeparate,_glStencilOp=(x0,x1,x2)=>GLctx.stencilOp(x0,x1,x2),_emscripten_glStencilOp=_glStencilOp,_glStencilOpSeparate=(x0,x1,x2,x3)=>GLctx.stencilOpSeparate(x0,x1,x2,x3),_emscripten_glStencilOpSeparate=_glStencilOpSeparate,_glTexImage2D=(target,level,internalFormat,width,height,border,format,type,pixels)=>{pixels=pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null;GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)},_emscripten_glTexImage2D=_glTexImage2D,_glTexParameterf=(x0,x1,x2)=>GLctx.texParameterf(x0,x1,x2),_emscripten_glTexParameterf=_glTexParameterf,_glTexParameterfv=(target,pname,params)=>{params=HEAPF32[params>>2];GLctx.texParameterf(target,pname,params)},_emscripten_glTexParameterfv=_glTexParameterfv,_glTexParameteri=(x0,x1,x2)=>GLctx.texParameteri(x0,x1,x2),_emscripten_glTexParameteri=_glTexParameteri,_glTexParameteriv=(target,pname,params)=>{params=HEAP32[params>>2];GLctx.texParameteri(target,pname,params)},_emscripten_glTexParameteriv=_glTexParameteriv,_glTexSubImage2D=(target,level,xoffset,yoffset,width,height,format,type,pixels)=>{pixels=pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0):null;GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)},_emscripten_glTexSubImage2D=_glTexSubImage2D,_glUniform1f=(location,v0)=>{GLctx.uniform1f(webglGetUniformLocation(location),v0)},_emscripten_glUniform1f=_glUniform1f,miniTempWebGLFloatBuffers=[],_glUniform1fv=(location,count,value)=>{if(count<=288)for(var view=miniTempWebGLFloatBuffers[count],i=0;i<count;++i)view[i]=HEAPF32[value+4*i>>2];else view=HEAPF32.subarray(value>>2,value+4*count>>2);GLctx.uniform1fv(webglGetUniformLocation(location),view)},_emscripten_glUniform1fv=_glUniform1fv,_glUniform1i=(location,v0)=>{GLctx.uniform1i(webglGetUniformLocation(location),v0)},_emscripten_glUniform1i=_glUniform1i,miniTempWebGLIntBuffers=[],_glUniform1iv=(location,count,value)=>{if(count<=288)for(var view=miniTempWebGLIntBuffers[count],i=0;i<count;++i)view[i]=HEAP32[value+4*i>>2];else view=HEAP32.subarray(value>>2,value+4*count>>2);GLctx.uniform1iv(webglGetUniformLocation(location),view)},_emscripten_glUniform1iv=_glUniform1iv,_glUniform2f=(location,v0,v1)=>{GLctx.uniform2f(webglGetUniformLocation(location),v0,v1)},_emscripten_glUniform2f=_glUniform2f,_glUniform2fv=(location,count,value)=>{if(count<=144)for(var view=miniTempWebGLFloatBuffers[count*=2],i=0;i<count;i+=2)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2];else view=HEAPF32.subarray(value>>2,value+8*count>>2);GLctx.uniform2fv(webglGetUniformLocation(location),view)},_emscripten_glUniform2fv=_glUniform2fv,_glUniform2i=(location,v0,v1)=>{GLctx.uniform2i(webglGetUniformLocation(location),v0,v1)},_emscripten_glUniform2i=_glUniform2i,_glUniform2iv=(location,count,value)=>{if(count<=144)for(var view=miniTempWebGLIntBuffers[count*=2],i=0;i<count;i+=2)view[i]=HEAP32[value+4*i>>2],view[i+1]=HEAP32[value+(4*i+4)>>2];else view=HEAP32.subarray(value>>2,value+8*count>>2);GLctx.uniform2iv(webglGetUniformLocation(location),view)},_emscripten_glUniform2iv=_glUniform2iv,_glUniform3f=(location,v0,v1,v2)=>{GLctx.uniform3f(webglGetUniformLocation(location),v0,v1,v2)},_emscripten_glUniform3f=_glUniform3f,_glUniform3fv=(location,count,value)=>{if(count<=96)for(var view=miniTempWebGLFloatBuffers[count*=3],i=0;i<count;i+=3)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2],view[i+2]=HEAPF32[value+(4*i+8)>>2];else view=HEAPF32.subarray(value>>2,value+12*count>>2);GLctx.uniform3fv(webglGetUniformLocation(location),view)},_emscripten_glUniform3fv=_glUniform3fv,_glUniform3i=(location,v0,v1,v2)=>{GLctx.uniform3i(webglGetUniformLocation(location),v0,v1,v2)},_emscripten_glUniform3i=_glUniform3i,_glUniform3iv=(location,count,value)=>{if(count<=96)for(var view=miniTempWebGLIntBuffers[count*=3],i=0;i<count;i+=3)view[i]=HEAP32[value+4*i>>2],view[i+1]=HEAP32[value+(4*i+4)>>2],view[i+2]=HEAP32[value+(4*i+8)>>2];else view=HEAP32.subarray(value>>2,value+12*count>>2);GLctx.uniform3iv(webglGetUniformLocation(location),view)},_emscripten_glUniform3iv=_glUniform3iv,_glUniform4f=(location,v0,v1,v2,v3)=>{GLctx.uniform4f(webglGetUniformLocation(location),v0,v1,v2,v3)},_emscripten_glUniform4f=_glUniform4f,_glUniform4fv=(location,count,value)=>{if(count<=72){var view=miniTempWebGLFloatBuffers[4*count],heap=HEAPF32;value>>=2,count*=4;for(var i=0;i<count;i+=4){var dst=value+i;view[i]=heap[dst],view[i+1]=heap[dst+1],view[i+2]=heap[dst+2],view[i+3]=heap[dst+3]}}else view=HEAPF32.subarray(value>>2,value+16*count>>2);GLctx.uniform4fv(webglGetUniformLocation(location),view)},_emscripten_glUniform4fv=_glUniform4fv,_glUniform4i=(location,v0,v1,v2,v3)=>{GLctx.uniform4i(webglGetUniformLocation(location),v0,v1,v2,v3)},_emscripten_glUniform4i=_glUniform4i,_glUniform4iv=(location,count,value)=>{if(count<=72)for(var view=miniTempWebGLIntBuffers[count*=4],i=0;i<count;i+=4)view[i]=HEAP32[value+4*i>>2],view[i+1]=HEAP32[value+(4*i+4)>>2],view[i+2]=HEAP32[value+(4*i+8)>>2],view[i+3]=HEAP32[value+(4*i+12)>>2];else view=HEAP32.subarray(value>>2,value+16*count>>2);GLctx.uniform4iv(webglGetUniformLocation(location),view)},_emscripten_glUniform4iv=_glUniform4iv,_glUniformMatrix2fv=(location,count,transpose,value)=>{if(count<=72)for(var view=miniTempWebGLFloatBuffers[count*=4],i=0;i<count;i+=4)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2],view[i+2]=HEAPF32[value+(4*i+8)>>2],view[i+3]=HEAPF32[value+(4*i+12)>>2];else view=HEAPF32.subarray(value>>2,value+16*count>>2);GLctx.uniformMatrix2fv(webglGetUniformLocation(location),!!transpose,view)},_emscripten_glUniformMatrix2fv=_glUniformMatrix2fv,_glUniformMatrix3fv=(location,count,transpose,value)=>{if(count<=32)for(var view=miniTempWebGLFloatBuffers[count*=9],i=0;i<count;i+=9)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2],view[i+2]=HEAPF32[value+(4*i+8)>>2],view[i+3]=HEAPF32[value+(4*i+12)>>2],view[i+4]=HEAPF32[value+(4*i+16)>>2],view[i+5]=HEAPF32[value+(4*i+20)>>2],view[i+6]=HEAPF32[value+(4*i+24)>>2],view[i+7]=HEAPF32[value+(4*i+28)>>2],view[i+8]=HEAPF32[value+(4*i+32)>>2];else view=HEAPF32.subarray(value>>2,value+36*count>>2);GLctx.uniformMatrix3fv(webglGetUniformLocation(location),!!transpose,view)},_emscripten_glUniformMatrix3fv=_glUniformMatrix3fv,_glUniformMatrix4fv=(location,count,transpose,value)=>{if(count<=18){var view=miniTempWebGLFloatBuffers[16*count],heap=HEAPF32;value>>=2,count*=16;for(var i=0;i<count;i+=16){var dst=value+i;view[i]=heap[dst],view[i+1]=heap[dst+1],view[i+2]=heap[dst+2],view[i+3]=heap[dst+3],view[i+4]=heap[dst+4],view[i+5]=heap[dst+5],view[i+6]=heap[dst+6],view[i+7]=heap[dst+7],view[i+8]=heap[dst+8],view[i+9]=heap[dst+9],view[i+10]=heap[dst+10],view[i+11]=heap[dst+11],view[i+12]=heap[dst+12],view[i+13]=heap[dst+13],view[i+14]=heap[dst+14],view[i+15]=heap[dst+15]}}else view=HEAPF32.subarray(value>>2,value+64*count>>2);GLctx.uniformMatrix4fv(webglGetUniformLocation(location),!!transpose,view)},_emscripten_glUniformMatrix4fv=_glUniformMatrix4fv,_glUseProgram=program=>{program=GL.programs[program],GLctx.useProgram(program),GLctx.currentProgram=program},_emscripten_glUseProgram=_glUseProgram,_glValidateProgram=program=>{GLctx.validateProgram(GL.programs[program])},_emscripten_glValidateProgram=_glValidateProgram,_glVertexAttrib1f=(x0,x1)=>GLctx.vertexAttrib1f(x0,x1),_emscripten_glVertexAttrib1f=_glVertexAttrib1f,_glVertexAttrib1fv=(index,v)=>{GLctx.vertexAttrib1f(index,HEAPF32[v>>2])},_emscripten_glVertexAttrib1fv=_glVertexAttrib1fv,_glVertexAttrib2f=(x0,x1,x2)=>GLctx.vertexAttrib2f(x0,x1,x2),_emscripten_glVertexAttrib2f=_glVertexAttrib2f,_glVertexAttrib2fv=(index,v)=>{GLctx.vertexAttrib2f(index,HEAPF32[v>>2],HEAPF32[v+4>>2])},_emscripten_glVertexAttrib2fv=_glVertexAttrib2fv,_glVertexAttrib3f=(x0,x1,x2,x3)=>GLctx.vertexAttrib3f(x0,x1,x2,x3),_emscripten_glVertexAttrib3f=_glVertexAttrib3f,_glVertexAttrib3fv=(index,v)=>{GLctx.vertexAttrib3f(index,HEAPF32[v>>2],HEAPF32[v+4>>2],HEAPF32[v+8>>2])},_emscripten_glVertexAttrib3fv=_glVertexAttrib3fv,_glVertexAttrib4f=(x0,x1,x2,x3,x4)=>GLctx.vertexAttrib4f(x0,x1,x2,x3,x4),_emscripten_glVertexAttrib4f=_glVertexAttrib4f,_glVertexAttrib4fv=(index,v)=>{GLctx.vertexAttrib4f(index,HEAPF32[v>>2],HEAPF32[v+4>>2],HEAPF32[v+8>>2],HEAPF32[v+12>>2])},_emscripten_glVertexAttrib4fv=_glVertexAttrib4fv,_glVertexAttribDivisor=(index,divisor)=>{GLctx.vertexAttribDivisor(index,divisor)},_glVertexAttribDivisorANGLE=_glVertexAttribDivisor,_emscripten_glVertexAttribDivisorANGLE=_glVertexAttribDivisor,_glVertexAttribPointer=(index,size,type,normalized,stride,ptr)=>{GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)},_emscripten_glVertexAttribPointer=_glVertexAttribPointer,_glViewport=(x0,x1,x2,x3)=>GLctx.viewport(x0,x1,x2,x3),_emscripten_glViewport=_glViewport,_emscripten_has_asyncify=()=>1,doRequestFullscreen=(target,strategy)=>JSEvents.fullscreenEnabled()?(target=findEventTarget(target))?target.requestFullscreen||target.webkitRequestFullscreen?JSEvents.canPerformEventHandlerRequests()?JSEvents_requestFullscreen(target,strategy):strategy.deferUntilInEventHandler?(JSEvents.deferCall(JSEvents_requestFullscreen,1,[target,strategy]),1):-2:-3:-4:-1,_emscripten_request_fullscreen_strategy=(target,deferUntilInEventHandler,fullscreenStrategy)=>{deferUntilInEventHandler={scaleMode:HEAP32[fullscreenStrategy>>2],canvasResolutionScaleMode:HEAP32[fullscreenStrategy+4>>2],filteringMode:HEAP32[fullscreenStrategy+8>>2],deferUntilInEventHandler:deferUntilInEventHandler,canvasResizedCallback:HEAP32[fullscreenStrategy+12>>2],canvasResizedCallbackUserData:HEAP32[fullscreenStrategy+16>>2]};return doRequestFullscreen(target,deferUntilInEventHandler)},_emscripten_request_pointerlock=(target,deferUntilInEventHandler)=>(target=findEventTarget(target))?target.requestPointerLock?JSEvents.canPerformEventHandlerRequests()?requestPointerLock(target):deferUntilInEventHandler?(JSEvents.deferCall(requestPointerLock,2,[target]),1):-2:-1:-4,getHeapMax=()=>2147483648,growMemory=size=>{size=(size-wasmMemory.buffer.byteLength+65535)/65536|0;try{return wasmMemory.grow(size),updateMemoryViews(),1}catch(e){}},_emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length,maxHeapSize=(requestedSize>>>=0,getHeapMax());if(!(maxHeapSize<requestedSize))for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown),overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296),overGrownHeapSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));if(growMemory(overGrownHeapSize))return!0}return!1},_emscripten_sample_gamepad_data=()=>{try{if(navigator.getGamepads)return(JSEvents.lastGamepadState=navigator.getGamepads())?0:-1}catch(e){navigator.getGamepads=null}return-1},registerBeforeUnloadEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString)=>{target={target:findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var confirmationMessage=dynCall_iiii(callbackfunc,eventTypeId,0,userData);if(confirmationMessage=confirmationMessage&&UTF8ToString(confirmationMessage))return e.preventDefault(),e.returnValue=confirmationMessage},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_beforeunload_callback_on_thread=(userData,callbackfunc,targetThread)=>"undefined"==typeof onbeforeunload?-1:1!==targetThread?-5:registerBeforeUnloadEventCallback(2,userData,!0,callbackfunc,28,"beforeunload"),registerFocusEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.focusEvent||=_malloc(256);target={target:findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var nodeName=JSEvents.getNodeNameForTarget(e.target),id=e.target.id||"",focusEvent=JSEvents.focusEvent;stringToUTF8(nodeName,focusEvent+0,128),stringToUTF8(id,focusEvent+128,128),dynCall_iiii(callbackfunc,eventTypeId,focusEvent,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_blur_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerFocusEventCallback(target,userData,useCapture,callbackfunc,12,"blur",targetThread),_emscripten_set_element_css_size=(target,width,height)=>(target=findEventTarget(target))?(target.style.width=width+"px",target.style.height=height+"px",0):-4,_emscripten_set_focus_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerFocusEventCallback(target,userData,useCapture,callbackfunc,13,"focus",targetThread),fillFullscreenChangeEventData=eventStruct=>{var fullscreenElement=getFullscreenElement(),isFullscreen=!!fullscreenElement,reportedElement=(HEAP8[eventStruct]=isFullscreen,HEAP8[eventStruct+1]=JSEvents.fullscreenEnabled(),isFullscreen?fullscreenElement:JSEvents.previousFullscreenElement),nodeName=JSEvents.getNodeNameForTarget(reportedElement),id=reportedElement?.id||"";stringToUTF8(nodeName,eventStruct+2,128),stringToUTF8(id,eventStruct+130,128),HEAP32[eventStruct+260>>2]=reportedElement?reportedElement.clientWidth:0,HEAP32[eventStruct+264>>2]=reportedElement?reportedElement.clientHeight:0,HEAP32[eventStruct+268>>2]=screen.width,HEAP32[eventStruct+272>>2]=screen.height,isFullscreen&&(JSEvents.previousFullscreenElement=fullscreenElement)},registerFullscreenChangeEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.fullscreenChangeEvent||=_malloc(276);return JSEvents.registerOrRemoveHandler({target:target,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var fullscreenChangeEvent=JSEvents.fullscreenChangeEvent;fillFullscreenChangeEventData(fullscreenChangeEvent),dynCall_iiii(callbackfunc,eventTypeId,fullscreenChangeEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_fullscreenchange_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>JSEvents.fullscreenEnabled()?(target=findEventTarget(target))?(registerFullscreenChangeEventCallback(target,userData,useCapture,callbackfunc,19,"webkitfullscreenchange",targetThread),registerFullscreenChangeEventCallback(target,userData,useCapture,callbackfunc,19,"fullscreenchange",targetThread)):-4:-1,registerGamepadEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.gamepadEvent||=_malloc(1240);target={target:findEventTarget(target),allowsDeferredCalls:!0,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var gamepadEvent=JSEvents.gamepadEvent;fillGamepadEventData(gamepadEvent,e.gamepad),dynCall_iiii(callbackfunc,eventTypeId,gamepadEvent,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_gamepadconnected_callback_on_thread=(userData,useCapture,callbackfunc,targetThread)=>_emscripten_sample_gamepad_data()?-1:registerGamepadEventCallback(2,userData,useCapture,callbackfunc,26,"gamepadconnected",targetThread),_emscripten_set_gamepaddisconnected_callback_on_thread=(userData,useCapture,callbackfunc,targetThread)=>_emscripten_sample_gamepad_data()?-1:registerGamepadEventCallback(2,userData,useCapture,callbackfunc,27,"gamepaddisconnected",targetThread),registerKeyEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.keyEvent||=_malloc(160);target={target:findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:e=>{var keyEventData=JSEvents.keyEvent,idx=(HEAPF64[keyEventData>>3]=e.timeStamp,keyEventData>>2);HEAP32[2+idx]=e.location,HEAP8[keyEventData+12]=e.ctrlKey,HEAP8[keyEventData+13]=e.shiftKey,HEAP8[keyEventData+14]=e.altKey,HEAP8[keyEventData+15]=e.metaKey,HEAP8[keyEventData+16]=e.repeat,HEAP32[5+idx]=e.charCode,HEAP32[6+idx]=e.keyCode,HEAP32[7+idx]=e.which,stringToUTF8(e.key||"",keyEventData+32,32),stringToUTF8(e.code||"",keyEventData+64,32),stringToUTF8(e.char||"",keyEventData+96,32),stringToUTF8(e.locale||"",keyEventData+128,32),dynCall_iiii(callbackfunc,eventTypeId,keyEventData,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_keydown_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerKeyEventCallback(target,userData,useCapture,callbackfunc,2,"keydown",targetThread),_emscripten_set_keypress_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerKeyEventCallback(target,userData,useCapture,callbackfunc,1,"keypress",targetThread),_emscripten_set_keyup_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerKeyEventCallback(target,userData,useCapture,callbackfunc,3,"keyup",targetThread),fillMouseEventData=(eventStruct,e,target)=>{HEAPF64[eventStruct>>3]=e.timeStamp;var idx=eventStruct>>2,eventStruct=(HEAP32[2+idx]=e.screenX,HEAP32[3+idx]=e.screenY,HEAP32[4+idx]=e.clientX,HEAP32[5+idx]=e.clientY,HEAP8[eventStruct+24]=e.ctrlKey,HEAP8[eventStruct+25]=e.shiftKey,HEAP8[eventStruct+26]=e.altKey,HEAP8[eventStruct+27]=e.metaKey,HEAP16[2*idx+14]=e.button,HEAP16[2*idx+15]=e.buttons,HEAP32[8+idx]=e.movementX,HEAP32[9+idx]=e.movementY,getBoundingClientRect(target));HEAP32[10+idx]=e.clientX-(0|eventStruct.left),HEAP32[11+idx]=e.clientY-(0|eventStruct.top)},registerMouseEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.mouseEvent||=_malloc(64);eventTypeString={target:target=findEventTarget(target),allowsDeferredCalls:"mousemove"!=eventTypeString&&"mouseenter"!=eventTypeString&&"mouseleave"!=eventTypeString,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var a2;fillMouseEventData(JSEvents.mouseEvent,e,target),a2=JSEvents.mouseEvent,dynCall_iiii(callbackfunc,eventTypeId,a2,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(eventTypeString)},_emscripten_set_mousedown_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,5,"mousedown",targetThread),_emscripten_set_mouseenter_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,33,"mouseenter",targetThread),_emscripten_set_mouseleave_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,34,"mouseleave",targetThread),_emscripten_set_mousemove_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,8,"mousemove",targetThread),_emscripten_set_mouseup_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,6,"mouseup",targetThread),fillPointerlockChangeEventData=eventStruct=>{var pointerLockElement=document.pointerLockElement,nodeName=(HEAP8[eventStruct]=!!pointerLockElement,JSEvents.getNodeNameForTarget(pointerLockElement)),pointerLockElement=pointerLockElement?.id||"";stringToUTF8(nodeName,eventStruct+1,128),stringToUTF8(pointerLockElement,eventStruct+129,128)},registerPointerlockChangeEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.pointerlockChangeEvent||=_malloc(257);return JSEvents.registerOrRemoveHandler({target:target,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var pointerlockChangeEvent=JSEvents.pointerlockChangeEvent;fillPointerlockChangeEventData(pointerlockChangeEvent),dynCall_iiii(callbackfunc,eventTypeId,pointerlockChangeEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_pointerlockchange_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>document.body?.requestPointerLock?(target=findEventTarget(target))?registerPointerlockChangeEventCallback(target,userData,useCapture,callbackfunc,20,"pointerlockchange",targetThread):-4:-1,registerUiEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.uiEvent||=_malloc(36);eventTypeString={target:target=findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var b,uiEvent;e.target==target&&(b=document.body)&&(uiEvent=JSEvents.uiEvent,HEAP32[uiEvent>>2]=0,HEAP32[uiEvent+4>>2]=b.clientWidth,HEAP32[uiEvent+8>>2]=b.clientHeight,HEAP32[uiEvent+12>>2]=innerWidth,HEAP32[uiEvent+16>>2]=innerHeight,HEAP32[uiEvent+20>>2]=outerWidth,HEAP32[uiEvent+24>>2]=outerHeight,HEAP32[uiEvent+28>>2]=0|pageXOffset,HEAP32[uiEvent+32>>2]=0|pageYOffset,dynCall_iiii(callbackfunc,eventTypeId,uiEvent,userData))&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(eventTypeString)},_emscripten_set_resize_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerUiEventCallback(target,userData,useCapture,callbackfunc,10,"resize",targetThread),registerTouchEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.touchEvent||=_malloc(1552);eventTypeString={target:target=findEventTarget(target),allowsDeferredCalls:"touchstart"==eventTypeString||"touchend"==eventTypeString,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:e=>{var touches={};for(let t of e.touches)t.isChanged=t.onTarget=0,touches[t.identifier]=t;for(let t of e.changedTouches)t.isChanged=1,touches[t.identifier]=t;for(let t of e.targetTouches)touches[t.identifier].onTarget=1;var touchEvent=JSEvents.touchEvent,idx=(HEAPF64[touchEvent>>3]=e.timeStamp,HEAP8[touchEvent+12]=e.ctrlKey,HEAP8[touchEvent+13]=e.shiftKey,HEAP8[touchEvent+14]=e.altKey,HEAP8[touchEvent+15]=e.metaKey,touchEvent+16),targetRect=getBoundingClientRect(target),numTouches=0;for(let t of Object.values(touches)){var idx32=idx>>2;if(HEAP32[idx32]=t.identifier,HEAP32[1+idx32]=t.screenX,HEAP32[2+idx32]=t.screenY,HEAP32[3+idx32]=t.clientX,HEAP32[4+idx32]=t.clientY,HEAP32[5+idx32]=t.pageX,HEAP32[6+idx32]=t.pageY,HEAP8[idx+28]=t.isChanged,HEAP8[idx+29]=t.onTarget,HEAP32[8+idx32]=t.clientX-(0|targetRect.left),HEAP32[9+idx32]=t.clientY-(0|targetRect.top),idx+=48,31<++numTouches)break}HEAP32[touchEvent+8>>2]=numTouches,dynCall_iiii(callbackfunc,eventTypeId,touchEvent,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(eventTypeString)},_emscripten_set_touchcancel_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,25,"touchcancel",targetThread),_emscripten_set_touchend_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,23,"touchend",targetThread),_emscripten_set_touchmove_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,24,"touchmove",targetThread),_emscripten_set_touchstart_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,22,"touchstart",targetThread),fillVisibilityChangeEventData=eventStruct=>{var visibilityState=["hidden","visible","prerender","unloaded"].indexOf(document.visibilityState);HEAP8[eventStruct]=document.hidden,HEAP32[eventStruct+4>>2]=visibilityState},registerVisibilityChangeEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.visibilityChangeEvent||=_malloc(8);return JSEvents.registerOrRemoveHandler({target:target,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var visibilityChangeEvent=JSEvents.visibilityChangeEvent;fillVisibilityChangeEventData(visibilityChangeEvent),dynCall_iiii(callbackfunc,eventTypeId,visibilityChangeEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_visibilitychange_callback_on_thread=(userData,useCapture,callbackfunc,targetThread)=>specialHTMLTargets[1]?registerVisibilityChangeEventCallback(specialHTMLTargets[1],userData,useCapture,callbackfunc,21,"visibilitychange",targetThread):-4,registerWheelEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.wheelEvent||=_malloc(96);return JSEvents.registerOrRemoveHandler({target:target,allowsDeferredCalls:!0,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var wheelEvent=JSEvents.wheelEvent;fillMouseEventData(wheelEvent,e,target),HEAPF64[wheelEvent+64>>3]=e.deltaX,HEAPF64[wheelEvent+72>>3]=e.deltaY,HEAPF64[wheelEvent+80>>3]=e.deltaZ,HEAP32[wheelEvent+88>>2]=e.deltaMode,dynCall_iiii(callbackfunc,eventTypeId,wheelEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_wheel_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>(target=findEventTarget(target))?void 0!==target.onwheel?registerWheelEventCallback(target,userData,useCapture,callbackfunc,9,"wheel",targetThread):-1:-4,_emscripten_set_window_title=title=>document.title=UTF8ToString(title),_emscripten_sleep=ms=>Asyncify.handleSleep(wakeUp=>safeSetTimeout(wakeUp,ms)),ENV=(_emscripten_sleep.isAsync=!0,{}),getExecutableName=()=>thisProgram||"./this.program",getEnvStrings=()=>{if(!getEnvStrings.strings){var env={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:getExecutableName()};for(x in ENV)void 0===ENV[x]?delete env[x]:env[x]=ENV[x];var x,strings=[];for(x in env)strings.push(x+"="+env[x]);getEnvStrings.strings=strings}return getEnvStrings.strings},_environ_get=(__environ,environ_buf)=>{var string,bufSize=0,envp=0;for(string of getEnvStrings()){var ptr=environ_buf+bufSize;HEAPU32[__environ+envp>>2]=ptr,bufSize+=stringToUTF8(string,ptr,1/0)+1,envp+=4}return 0},_environ_sizes_get=(penviron_count,penviron_buf_size)=>{var string,strings=getEnvStrings(),bufSize=(HEAPU32[penviron_count>>2]=strings.length,0);for(string of strings)bufSize+=lengthBytesUTF8(string)+1;return HEAPU32[penviron_buf_size>>2]=bufSize,0};function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);return FS.close(stream),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd),type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;return HEAP8[pbuf]=type,HEAP16[pbuf+2>>1]=0,HEAP64[pbuf+8>>3]=BigInt(0),HEAP64[pbuf+16>>3]=BigInt(0),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}var doReadv=(stream,iov,iovcnt,offset)=>{for(var ret=0,i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2],len=HEAPU32[iov+4>>2],ptr=(iov+=8,FS.read(stream,HEAP8,ptr,len,offset));if(ptr<0)return-1;if(ret+=ptr,ptr<len)break;void 0!==offset&&(offset+=ptr)}return ret};function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd),num=doReadv(stream,iov,iovcnt);return HEAPU32[pnum>>2]=num,0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}function _fd_seek(fd,offset,whence,newOffset){offset=bigintToI53Checked(offset);try{var stream;return isNaN(offset)?61:(stream=SYSCALLS.getStreamFromFD(fd),FS.llseek(stream,offset,whence),HEAP64[newOffset>>3]=BigInt(stream.position),stream.getdents&&0===offset&&0===whence&&(stream.getdents=null),0)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}var doWritev=(stream,iov,iovcnt,offset)=>{for(var ret=0,i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2],len=HEAPU32[iov+4>>2],ptr=(iov+=8,FS.write(stream,HEAP8,ptr,len,offset));if(ptr<0)return-1;if(ret+=ptr,ptr<len)break;void 0!==offset&&(offset+=ptr)}return ret};function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd),num=doWritev(stream,iov,iovcnt);return HEAPU32[pnum>>2]=num,0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}var autoResumeAudioContext=(ctx,elements)=>{elements=elements||[document,document.getElementById("canvas")],["keydown","mousedown","touchstart"].forEach(event=>{elements.forEach(element=>{element?.addEventListener(event,()=>{"suspended"===ctx.state&&ctx.resume()},{once:!0})})})},runAndAbortIfError=func=>{try{return func()}catch(e){abort(e)}},runtimeKeepalivePush=()=>{runtimeKeepaliveCounter+=1},runtimeKeepalivePop=()=>{--runtimeKeepaliveCounter},Asyncify={instrumentWasmImports(imports){var x,original,importPattern=/^(invoke_.*|__asyncjs__.*)$/;for([x,original]of Object.entries(imports))"function"==typeof original&&(original.isAsync||importPattern.test(x))},instrumentFunction(original){var wrapper=(...args)=>{Asyncify.exportCallStack.push(original);try{return original(...args)}finally{ABORT||(Asyncify.exportCallStack.pop(),Asyncify.maybeStopUnwind())}};return Asyncify.funcWrappers.set(original,wrapper),wrapper},instrumentWasmExports(exports){var x,original,wrapper,ret={};for([x,original]of Object.entries(exports))"function"==typeof original?(wrapper=Asyncify.instrumentFunction(original),ret[x]=wrapper):ret[x]=original;return ret},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callstackFuncToId:new Map,callStackIdToFunc:new Map,funcWrappers:new Map,callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(func){var id;return Asyncify.callstackFuncToId.has(func)||(id=Asyncify.callStackId++,Asyncify.callstackFuncToId.set(func,id),Asyncify.callStackIdToFunc.set(id,func)),Asyncify.callstackFuncToId.get(func)},maybeStopUnwind(){Asyncify.currData&&Asyncify.state===Asyncify.State.Unwinding&&0===Asyncify.exportCallStack.length&&(Asyncify.state=Asyncify.State.Normal,runAndAbortIfError(_asyncify_stop_unwind),"undefined"!=typeof Fibers)&&Fibers.trampoline()},whenDone(){return new Promise((resolve,reject)=>{Asyncify.asyncPromiseHandlers={resolve:resolve,reject:reject}})},allocateData(){var ptr=_malloc(12+Asyncify.StackSize);return Asyncify.setDataHeader(ptr,ptr+12,Asyncify.StackSize),Asyncify.setDataRewindFunc(ptr),ptr},setDataHeader(ptr,stack,stackSize){HEAPU32[ptr>>2]=stack,HEAPU32[ptr+4>>2]=stack+stackSize},setDataRewindFunc(ptr){var bottomOfCallStack=Asyncify.exportCallStack[0],bottomOfCallStack=Asyncify.getCallStackId(bottomOfCallStack);HEAP32[ptr+8>>2]=bottomOfCallStack},getDataRewindFunc(ptr){ptr=HEAP32[ptr+8>>2];return Asyncify.callStackIdToFunc.get(ptr)},doRewind(ptr){ptr=Asyncify.getDataRewindFunc(ptr);return Asyncify.funcWrappers.get(ptr)()},handleSleep(startAsync){var reachedCallback,reachedAfterCallback;if(!ABORT)return Asyncify.state===Asyncify.State.Normal?(reachedAfterCallback=reachedCallback=!1,startAsync((handleSleepReturnValue=0)=>{if(!ABORT&&(Asyncify.handleSleepReturnValue=handleSleepReturnValue,reachedCallback=!0,reachedAfterCallback)){Asyncify.state=Asyncify.State.Rewinding,runAndAbortIfError(()=>_asyncify_start_rewind(Asyncify.currData)),void 0!==MainLoop&&MainLoop.func&&MainLoop.resume();var asyncWasmReturnValue,handleSleepReturnValue=!1;try{asyncWasmReturnValue=Asyncify.doRewind(Asyncify.currData)}catch(err){asyncWasmReturnValue=err,handleSleepReturnValue=!0}var asyncPromiseHandlers,handled=!1;if(Asyncify.currData||(asyncPromiseHandlers=Asyncify.asyncPromiseHandlers)&&(Asyncify.asyncPromiseHandlers=null,(handleSleepReturnValue?asyncPromiseHandlers.reject:asyncPromiseHandlers.resolve)(asyncWasmReturnValue),handled=!0),handleSleepReturnValue&&!handled)throw asyncWasmReturnValue}}),reachedAfterCallback=!0,reachedCallback||(Asyncify.state=Asyncify.State.Unwinding,Asyncify.currData=Asyncify.allocateData(),void 0!==MainLoop&&MainLoop.func&&MainLoop.pause(),runAndAbortIfError(()=>_asyncify_start_unwind(Asyncify.currData)))):Asyncify.state===Asyncify.State.Rewinding?(Asyncify.state=Asyncify.State.Normal,runAndAbortIfError(_asyncify_stop_rewind),_free(Asyncify.currData),Asyncify.currData=null,Asyncify.sleepCallbacks.forEach(callUserCallback)):abort("invalid state: "+Asyncify.state),Asyncify.handleSleepReturnValue},handleAsync:startAsync=>Asyncify.handleSleep(wakeUp=>{startAsync().then(wakeUp)})},getCFunc=ident=>Module["_"+ident],writeArrayToMemory=(array,buffer)=>{HEAP8.set(array,buffer)},ccall=(ident,returnType,argTypes,args,opts)=>{var toC={string:str=>{var ret=0;return ret=null!=str&&0!==str?stringToUTF8OnStack(str):ret},array:arr=>{var ret=stackAlloc(arr.length);return writeArrayToMemory(arr,ret),ret}};var ident=getCFunc(ident),cArgs=[],stack=0;if(args)for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];converter?(0===stack&&(stack=stackSave()),cArgs[i]=converter(args[i])):cArgs[i]=args[i]}var previousAsync=Asyncify.currData,ident=ident(...cArgs);function onDone(ret){return runtimeKeepalivePop(),0!==stack&&stackRestore(stack),(ret=>"string"===returnType?UTF8ToString(ret):"boolean"===returnType?Boolean(ret):ret)(ret)}opts=opts?.async;return runtimeKeepalivePush(),Asyncify.currData!=previousAsync?Asyncify.whenDone().then(onDone):(ident=onDone(ident),opts?Promise.resolve(ident):ident)},cwrap=(ident,returnType,argTypes,opts)=>{var numericArgs=!argTypes||argTypes.every(type=>"number"===type||"boolean"===type);return"string"!==returnType&&numericArgs&&!opts?getCFunc(ident):(...args)=>ccall(ident,returnType,argTypes,args,opts)},ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},FS_createPath=(...args)=>FS.createPath(...args),FS_unlink=(...args)=>FS.unlink(...args),FS_createLazyFile=(...args)=>FS.createLazyFile(...args),FS_createDevice=(...args)=>FS.createDevice(...args),createContext=Browser.createContext;FS.createPreloadedFile=FS_createPreloadedFile,FS.preloadFile=FS_preloadFile,FS.staticInit(),Module.requestAnimationFrame=MainLoop.requestAnimationFrame,Module.pauseMainLoop=MainLoop.pause,Module.resumeMainLoop=MainLoop.resume,MainLoop.init();for(let i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));for(var miniTempWebGLFloatBuffersStorage=new Float32Array(288),i=0;i<=288;++i)miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i);for(var miniTempWebGLIntBuffersStorage=new Int32Array(288),i=0;i<=288;++i)miniTempWebGLIntBuffers[i]=miniTempWebGLIntBuffersStorage.subarray(0,i);Module.noExitRuntime&&(noExitRuntime=Module.noExitRuntime),Module.preloadPlugins&&(preloadPlugins=Module.preloadPlugins),Module.print&&(out=Module.print),Module.printErr&&(err=Module.printErr),Module.wasmBinary&&(wasmBinary=Module.wasmBinary),Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.ENV=ENV,Module.ERRNO_CODES=ERRNO_CODES,Module.ccall=ccall,Module.cwrap=cwrap,Module.PATH=PATH,Module.createContext=createContext,Module.FS_preloadFile=FS_preloadFile,Module.FS_unlink=FS_unlink,Module.FS_createPath=FS_createPath,Module.FS_createDevice=FS_createDevice,Module.FS=FS,Module.FS_createDataFile=FS_createDataFile,Module.FS_createLazyFile=FS_createLazyFile;var _main,_malloc,_free,_htons,_emscripten_builtin_memalign,_ntohs,__emscripten_stack_restore,__emscripten_stack_alloc,_emscripten_stack_get_current,dynCall_v,dynCall_i,dynCall_vi,dynCall_iii,dynCall_vii,dynCall_ii,dynCall_viii,dynCall_iiiiii,dynCall_viiii,dynCall_iiiii,dynCall_iiii,dynCall_vjii,dynCall_vf,dynCall_iiji,dynCall_iid,dynCall_di,dynCall_viiiii,dynCall_iiiiiiii,dynCall_iiiiiiiiii,dynCall_iiiiiiiiiiiiiiff,dynCall_iiiiiiiii,dynCall_viiiiiii,dynCall_viiiiiiiiiii,dynCall_iiiiiidiiff,dynCall_ji,dynCall_jiji,dynCall_vffff,dynCall_viiiiiiii,dynCall_viiiiiiiii,dynCall_vff,dynCall_vfi,dynCall_viif,dynCall_vif,dynCall_viff,dynCall_vifff,dynCall_viffff,dynCall_viiiiii,dynCall_vfff,dynCall_iidiiii,_asyncify_start_unwind,_asyncify_stop_unwind,_asyncify_start_rewind,_asyncify_stop_rewind,ASM_CONSTS={596960:$0=>{$0=UTF8ToString($0)+"\n\nAbort/Retry/Ignore/AlwaysIgnore? [ariA] :",$0=window.prompt($0,"i");return 1===($0=null===$0?"i":$0).length?$0.charCodeAt(0):-1},597175:()=>"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext,597322:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||void 0!==navigator.webkitGetUserMedia,597556:$0=>{void 0===Module.SDL2&&(Module.SDL2={});var SDL2=Module.SDL2;return $0?SDL2.capture={}:SDL2.audio={},SDL2.audioContext||("undefined"!=typeof AudioContext?SDL2.audioContext=new AudioContext:"undefined"!=typeof webkitAudioContext&&(SDL2.audioContext=new webkitAudioContext),SDL2.audioContext&&void 0===navigator.userActivation&&autoResumeAudioContext(SDL2.audioContext)),void 0===SDL2.audioContext?-1:0},598108:()=>Module.SDL2.audioContext.sampleRate,598176:($0,$1,$2,$3)=>{function have_microphone(stream){void 0!==SDL2.capture.silenceTimer&&(clearInterval(SDL2.capture.silenceTimer),SDL2.capture.silenceTimer=void 0,SDL2.capture.silenceBuffer=void 0),SDL2.capture.mediaStreamNode=SDL2.audioContext.createMediaStreamSource(stream),SDL2.capture.scriptProcessorNode=SDL2.audioContext.createScriptProcessor($1,$0,1),SDL2.capture.scriptProcessorNode.onaudioprocess=function(audioProcessingEvent){void 0!==SDL2&&void 0!==SDL2.capture&&(audioProcessingEvent.outputBuffer.getChannelData(0).fill(0),SDL2.capture.currentCaptureBuffer=audioProcessingEvent.inputBuffer,dynCall("vp",$2,[$3]))},SDL2.capture.mediaStreamNode.connect(SDL2.capture.scriptProcessorNode),SDL2.capture.scriptProcessorNode.connect(SDL2.audioContext.destination),SDL2.capture.stream=stream}function no_microphone(error){}var SDL2=Module.SDL2;SDL2.capture.silenceBuffer=SDL2.audioContext.createBuffer($0,$1,SDL2.audioContext.sampleRate),SDL2.capture.silenceBuffer.getChannelData(0).fill(0);SDL2.capture.silenceTimer=setInterval(function(){SDL2.capture.currentCaptureBuffer=SDL2.capture.silenceBuffer,dynCall("vp",$2,[$3])},$1/SDL2.audioContext.sampleRate*1e3),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(have_microphone).catch(no_microphone):void 0!==navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0,video:!1},have_microphone,no_microphone)},599869:($0,$1,$2,$3)=>{var SDL2=Module.SDL2;SDL2.audio.scriptProcessorNode=SDL2.audioContext.createScriptProcessor($1,0,$0),SDL2.audio.scriptProcessorNode.onaudioprocess=function(e){void 0!==SDL2&&void 0!==SDL2.audio&&(void 0!==SDL2.audio.silenceTimer&&(clearInterval(SDL2.audio.silenceTimer),SDL2.audio.silenceTimer=void 0,SDL2.audio.silenceBuffer=void 0),SDL2.audio.currentOutputBuffer=e.outputBuffer,dynCall("vp",$2,[$3]))},SDL2.audio.scriptProcessorNode.connect(SDL2.audioContext.destination),"suspended"===SDL2.audioContext.state&&(SDL2.audio.silenceBuffer=SDL2.audioContext.createBuffer($0,$1,SDL2.audioContext.sampleRate),SDL2.audio.silenceBuffer.getChannelData(0).fill(0),SDL2.audio.silenceTimer=setInterval(function(){void 0!==navigator.userActivation&&navigator.userActivation.hasBeenActive&&SDL2.audioContext.resume(),SDL2.audio.currentOutputBuffer=SDL2.audio.silenceBuffer,dynCall("vp",$2,[$3]),SDL2.audio.currentOutputBuffer=void 0},$1/SDL2.audioContext.sampleRate*1e3))},601044:($0,$1)=>{for(var SDL2=Module.SDL2,numChannels=SDL2.capture.currentCaptureBuffer.numberOfChannels,c=0;c<numChannels;++c){var channelData=SDL2.capture.currentCaptureBuffer.getChannelData(c);if(channelData.length!=$1)throw"Web Audio capture buffer length mismatch! Destination size: "+channelData.length+" samples vs expected "+$1+" samples!";if(1==numChannels)for(var j=0;j<$1;++j)setValue($0+4*j,channelData[j],"float");else for(j=0;j<$1;++j)setValue($0+4*(j*numChannels+c),channelData[j],"float")}},601649:($0,$1)=>{for(var SDL2=Module.SDL2,buf=$0>>>2,numChannels=SDL2.audio.currentOutputBuffer.numberOfChannels,c=0;c<numChannels;++c){var channelData=SDL2.audio.currentOutputBuffer.getChannelData(c);if(channelData.length!=$1)throw"Web Audio output buffer length mismatch! Destination size: "+channelData.length+" samples vs expected "+$1+" samples!";for(var j=0;j<$1;++j)channelData[j]=HEAPF32[buf+(j*numChannels+c)]}},602138:$0=>{var SDL2=Module.SDL2;if($0){if(void 0!==SDL2.capture.silenceTimer&&clearInterval(SDL2.capture.silenceTimer),void 0!==SDL2.capture.stream)for(var tracks=SDL2.capture.stream.getAudioTracks(),i=0;i<tracks.length;i++)SDL2.capture.stream.removeTrack(tracks[i]);void 0!==SDL2.capture.scriptProcessorNode&&(SDL2.capture.scriptProcessorNode.onaudioprocess=function(audioProcessingEvent){},SDL2.capture.scriptProcessorNode.disconnect()),void 0!==SDL2.capture.mediaStreamNode&&SDL2.capture.mediaStreamNode.disconnect(),SDL2.capture=void 0}else null!=SDL2.audio.scriptProcessorNode&&SDL2.audio.scriptProcessorNode.disconnect(),void 0!==SDL2.audio.silenceTimer&&clearInterval(SDL2.audio.silenceTimer),SDL2.audio=void 0;void 0!==SDL2.audioContext&&void 0===SDL2.audio&&void 0===SDL2.capture&&(SDL2.audioContext.close(),SDL2.audioContext=void 0)},603144:($0,$1,$2)=>{Module.SDL2||(Module.SDL2={});var SDL2=Module.SDL2,data=(SDL2.ctxCanvas!==Module.canvas&&(SDL2.ctx=Browser.createContext(Module.canvas,!1,!0),SDL2.ctxCanvas=Module.canvas),SDL2.w===$0&&SDL2.h===$1&&SDL2.imageCtx===SDL2.ctx||(SDL2.image=SDL2.ctx.createImageData($0,$1),SDL2.w=$0,SDL2.h=$1,SDL2.imageCtx=SDL2.ctx),SDL2.image.data),src=$2/4,dst=0;if("undefined"!=typeof CanvasPixelArray&&data instanceof CanvasPixelArray)for(num=data.length;dst<num;){var val=HEAP32[src];data[dst]=255&val,data[dst+1]=val>>8&255,data[dst+2]=val>>16&255,data[dst+3]=255,src++,dst+=4}else{SDL2.data32Data!==data&&(SDL2.data32=new Int32Array(data.buffer),SDL2.data8=new Uint8Array(data.buffer),SDL2.data32Data=data);var $0=SDL2.data32,num=$0.length,data8=($0.set(HEAP32.subarray(src,src+num)),SDL2.data8),i=3,j=i+4*num;if(num%8==0)for(;i<j;)data8[i]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,i=i+4|0;else for(;i<j;)data8[i]=255,i=i+4|0}SDL2.ctx.putImageData(SDL2.image,0,0)},604610:($0,$1,$2,$3,$4)=>{var canvas=document.createElement("canvas"),ctx=(canvas.width=$0,canvas.height=$1,canvas.getContext("2d")),$0=ctx.createImageData($0,$1),data=$0.data,src=$4/4,dst=0;if("undefined"!=typeof CanvasPixelArray&&data instanceof CanvasPixelArray)for(num=data.length;dst<num;){var val=HEAP32[src];data[dst]=255&val,data[dst+1]=val>>8&255,data[dst+2]=val>>16&255,data[dst+3]=val>>24&255,src++,dst+=4}else{var $1=new Int32Array(data.buffer),num=$1.length;$1.set(HEAP32.subarray(src,src+num))}ctx.putImageData($0,0,0);$4=0===$2&&0===$3?"url("+canvas.toDataURL()+"), auto":"url("+canvas.toDataURL()+") "+$2+" "+$3+", auto",$1=_malloc($4.length+1);return stringToUTF8($4,$1,$4.length+1),$1},605598:$0=>{Module.canvas&&(Module.canvas.style.cursor=UTF8ToString($0))},605681:()=>{Module.canvas&&(Module.canvas.style.cursor="none")},605750:()=>window.innerWidth,605780:()=>window.innerHeight,605811:($0,$1)=>{alert(UTF8ToString($0)+"\n\n"+UTF8ToString($1))}};function assignWasmExports(wasmExports){Module._main=_main=wasmExports.__main_argc_argv,_malloc=wasmExports.malloc,_free=wasmExports.free,_htons=wasmExports.htons,_emscripten_builtin_memalign=wasmExports.emscripten_builtin_memalign,_ntohs=wasmExports.ntohs,__emscripten_stack_restore=wasmExports._emscripten_stack_restore,__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc,_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current,dynCalls.v=dynCall_v=wasmExports.dynCall_v,dynCalls.i=dynCall_i=wasmExports.dynCall_i,dynCalls.vi=dynCall_vi=wasmExports.dynCall_vi,dynCalls.iii=dynCall_iii=wasmExports.dynCall_iii,dynCalls.vii=dynCall_vii=wasmExports.dynCall_vii,dynCalls.ii=dynCall_ii=wasmExports.dynCall_ii,dynCalls.viii=dynCall_viii=wasmExports.dynCall_viii,dynCalls.iiiiii=dynCall_iiiiii=wasmExports.dynCall_iiiiii,dynCalls.viiii=dynCall_viiii=wasmExports.dynCall_viiii,dynCalls.iiiii=dynCall_iiiii=wasmExports.dynCall_iiiii,dynCalls.iiii=dynCall_iiii=wasmExports.dynCall_iiii,dynCalls.vjii=dynCall_vjii=wasmExports.dynCall_vjii,dynCalls.vf=dynCall_vf=wasmExports.dynCall_vf,dynCalls.iiji=dynCall_iiji=wasmExports.dynCall_iiji,dynCalls.iid=dynCall_iid=wasmExports.dynCall_iid,dynCalls.di=dynCall_di=wasmExports.dynCall_di,dynCalls.viiiii=dynCall_viiiii=wasmExports.dynCall_viiiii,dynCalls.iiiiiiii=dynCall_iiiiiiii=wasmExports.dynCall_iiiiiiii,dynCalls.iiiiiiiiii=dynCall_iiiiiiiiii=wasmExports.dynCall_iiiiiiiiii,dynCalls.iiiiiiiiiiiiiiff=dynCall_iiiiiiiiiiiiiiff=wasmExports.dynCall_iiiiiiiiiiiiiiff,dynCalls.iiiiiiiii=dynCall_iiiiiiiii=wasmExports.dynCall_iiiiiiiii,dynCalls.viiiiiii=dynCall_viiiiiii=wasmExports.dynCall_viiiiiii,dynCalls.viiiiiiiiiii=dynCall_viiiiiiiiiii=wasmExports.dynCall_viiiiiiiiiii,dynCalls.iiiiiidiiff=dynCall_iiiiiidiiff=wasmExports.dynCall_iiiiiidiiff,dynCalls.ji=dynCall_ji=wasmExports.dynCall_ji,dynCalls.jiji=dynCall_jiji=wasmExports.dynCall_jiji,dynCalls.vffff=dynCall_vffff=wasmExports.dynCall_vffff,dynCalls.viiiiiiii=dynCall_viiiiiiii=wasmExports.dynCall_viiiiiiii,dynCalls.viiiiiiiii=dynCall_viiiiiiiii=wasmExports.dynCall_viiiiiiiii,dynCalls.vff=dynCall_vff=wasmExports.dynCall_vff,dynCalls.vfi=dynCall_vfi=wasmExports.dynCall_vfi,dynCalls.viif=dynCall_viif=wasmExports.dynCall_viif,dynCalls.vif=dynCall_vif=wasmExports.dynCall_vif,dynCalls.viff=dynCall_viff=wasmExports.dynCall_viff,dynCalls.vifff=dynCall_vifff=wasmExports.dynCall_vifff,dynCalls.viffff=dynCall_viffff=wasmExports.dynCall_viffff,dynCalls.viiiiii=dynCall_viiiiii=wasmExports.dynCall_viiiiii,dynCalls.vfff=dynCall_vfff=wasmExports.dynCall_vfff,dynCalls.iidiiii=dynCall_iidiiii=wasmExports.dynCall_iidiiii,_asyncify_start_unwind=wasmExports.asyncify_start_unwind,_asyncify_stop_unwind=wasmExports.asyncify_stop_unwind,_asyncify_start_rewind=wasmExports.asyncify_start_rewind,_asyncify_stop_rewind=wasmExports.asyncify_stop_rewind}var wasmExports,wasmImports={__assert_fail:___assert_fail,__syscall__newselect:___syscall__newselect,__syscall_bind:___syscall_bind,__syscall_fcntl64:___syscall_fcntl64,__syscall_fstat64:___syscall_fstat64,__syscall_getdents64:___syscall_getdents64,__syscall_getsockname:___syscall_getsockname,__syscall_ioctl:___syscall_ioctl,__syscall_lstat64:___syscall_lstat64,__syscall_mkdirat:___syscall_mkdirat,__syscall_newfstatat:___syscall_newfstatat,__syscall_openat:___syscall_openat,__syscall_recvfrom:___syscall_recvfrom,__syscall_renameat:___syscall_renameat,__syscall_rmdir:___syscall_rmdir,__syscall_sendto:___syscall_sendto,__syscall_socket:___syscall_socket,__syscall_stat64:___syscall_stat64,__syscall_unlinkat:___syscall_unlinkat,_emscripten_lookup_name:__emscripten_lookup_name,_emscripten_system:__emscripten_system,_mmap_js:__mmap_js,_munmap_js:__munmap_js,clock_time_get:_clock_time_get,eglBindAPI:_eglBindAPI,eglChooseConfig:_eglChooseConfig,eglCreateContext:_eglCreateContext,eglCreateWindowSurface:_eglCreateWindowSurface,eglDestroyContext:_eglDestroyContext,eglDestroySurface:_eglDestroySurface,eglGetConfigAttrib:_eglGetConfigAttrib,eglGetDisplay:_eglGetDisplay,eglGetError:_eglGetError,eglInitialize:_eglInitialize,eglMakeCurrent:_eglMakeCurrent,eglQueryString:_eglQueryString,eglSwapBuffers:_eglSwapBuffers,eglSwapInterval:_eglSwapInterval,eglTerminate:_eglTerminate,eglWaitGL:_eglWaitGL,eglWaitNative:_eglWaitNative,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_asm_const_int_sync_on_main_thread:_emscripten_asm_const_int_sync_on_main_thread,emscripten_asm_const_ptr_sync_on_main_thread:_emscripten_asm_const_ptr_sync_on_main_thread,emscripten_cancel_main_loop:_emscripten_cancel_main_loop,emscripten_date_now:_emscripten_date_now,emscripten_exit_fullscreen:_emscripten_exit_fullscreen,emscripten_exit_pointerlock:_emscripten_exit_pointerlock,emscripten_force_exit:_emscripten_force_exit,emscripten_get_device_pixel_ratio:_emscripten_get_device_pixel_ratio,emscripten_get_element_css_size:_emscripten_get_element_css_size,emscripten_get_gamepad_status:_emscripten_get_gamepad_status,emscripten_get_now:_emscripten_get_now,emscripten_get_num_gamepads:_emscripten_get_num_gamepads,emscripten_get_screen_size:_emscripten_get_screen_size,emscripten_glActiveTexture:_emscripten_glActiveTexture,emscripten_glAttachShader:_emscripten_glAttachShader,emscripten_glBeginQueryEXT:_emscripten_glBeginQueryEXT,emscripten_glBindAttribLocation:_emscripten_glBindAttribLocation,emscripten_glBindBuffer:_emscripten_glBindBuffer,emscripten_glBindFramebuffer:_emscripten_glBindFramebuffer,emscripten_glBindRenderbuffer:_emscripten_glBindRenderbuffer,emscripten_glBindTexture:_emscripten_glBindTexture,emscripten_glBindVertexArrayOES:_emscripten_glBindVertexArrayOES,emscripten_glBlendColor:_emscripten_glBlendColor,emscripten_glBlendEquation:_emscripten_glBlendEquation,emscripten_glBlendEquationSeparate:_emscripten_glBlendEquationSeparate,emscripten_glBlendFunc:_emscripten_glBlendFunc,emscripten_glBlendFuncSeparate:_emscripten_glBlendFuncSeparate,emscripten_glBufferData:_emscripten_glBufferData,emscripten_glBufferSubData:_emscripten_glBufferSubData,emscripten_glCheckFramebufferStatus:_emscripten_glCheckFramebufferStatus,emscripten_glClear:_emscripten_glClear,emscripten_glClearColor:_emscripten_glClearColor,emscripten_glClearDepthf:_emscripten_glClearDepthf,emscripten_glClearStencil:_emscripten_glClearStencil,emscripten_glClipControlEXT:_emscripten_glClipControlEXT,emscripten_glColorMask:_emscripten_glColorMask,emscripten_glCompileShader:_emscripten_glCompileShader,emscripten_glCompressedTexImage2D:_emscripten_glCompressedTexImage2D,emscripten_glCompressedTexSubImage2D:_emscripten_glCompressedTexSubImage2D,emscripten_glCopyTexImage2D:_emscripten_glCopyTexImage2D,emscripten_glCopyTexSubImage2D:_emscripten_glCopyTexSubImage2D,emscripten_glCreateProgram:_emscripten_glCreateProgram,emscripten_glCreateShader:_emscripten_glCreateShader,emscripten_glCullFace:_emscripten_glCullFace,emscripten_glDeleteBuffers:_emscripten_glDeleteBuffers,emscripten_glDeleteFramebuffers:_emscripten_glDeleteFramebuffers,emscripten_glDeleteProgram:_emscripten_glDeleteProgram,emscripten_glDeleteQueriesEXT:_emscripten_glDeleteQueriesEXT,emscripten_glDeleteRenderbuffers:_emscripten_glDeleteRenderbuffers,emscripten_glDeleteShader:_emscripten_glDeleteShader,emscripten_glDeleteTextures:_emscripten_glDeleteTextures,emscripten_glDeleteVertexArraysOES:_emscripten_glDeleteVertexArraysOES,emscripten_glDepthFunc:_emscripten_glDepthFunc,emscripten_glDepthMask:_emscripten_glDepthMask,emscripten_glDepthRangef:_emscripten_glDepthRangef,emscripten_glDetachShader:_emscripten_glDetachShader,emscripten_glDisable:_emscripten_glDisable,emscripten_glDisableVertexAttribArray:_emscripten_glDisableVertexAttribArray,emscripten_glDrawArrays:_emscripten_glDrawArrays,emscripten_glDrawArraysInstancedANGLE:_emscripten_glDrawArraysInstancedANGLE,emscripten_glDrawBuffersWEBGL:_emscripten_glDrawBuffersWEBGL,emscripten_glDrawElements:_emscripten_glDrawElements,emscripten_glDrawElementsInstancedANGLE:_emscripten_glDrawElementsInstancedANGLE,emscripten_glEnable:_emscripten_glEnable,emscripten_glEnableVertexAttribArray:_emscripten_glEnableVertexAttribArray,emscripten_glEndQueryEXT:_emscripten_glEndQueryEXT,emscripten_glFinish:_emscripten_glFinish,emscripten_glFlush:_emscripten_glFlush,emscripten_glFramebufferRenderbuffer:_emscripten_glFramebufferRenderbuffer,emscripten_glFramebufferTexture2D:_emscripten_glFramebufferTexture2D,emscripten_glFrontFace:_emscripten_glFrontFace,emscripten_glGenBuffers:_emscripten_glGenBuffers,emscripten_glGenFramebuffers:_emscripten_glGenFramebuffers,emscripten_glGenQueriesEXT:_emscripten_glGenQueriesEXT,emscripten_glGenRenderbuffers:_emscripten_glGenRenderbuffers,emscripten_glGenTextures:_emscripten_glGenTextures,emscripten_glGenVertexArraysOES:_emscripten_glGenVertexArraysOES,emscripten_glGenerateMipmap:_emscripten_glGenerateMipmap,emscripten_glGetActiveAttrib:_emscripten_glGetActiveAttrib,emscripten_glGetActiveUniform:_emscripten_glGetActiveUniform,emscripten_glGetAttachedShaders:_emscripten_glGetAttachedShaders,emscripten_glGetAttribLocation:_emscripten_glGetAttribLocation,emscripten_glGetBooleanv:_emscripten_glGetBooleanv,emscripten_glGetBufferParameteriv:_emscripten_glGetBufferParameteriv,emscripten_glGetError:_emscripten_glGetError,emscripten_glGetFloatv:_emscripten_glGetFloatv,emscripten_glGetFramebufferAttachmentParameteriv:_emscripten_glGetFramebufferAttachmentParameteriv,emscripten_glGetIntegerv:_emscripten_glGetIntegerv,emscripten_glGetProgramInfoLog:_emscripten_glGetProgramInfoLog,emscripten_glGetProgramiv:_emscripten_glGetProgramiv,emscripten_glGetQueryObjecti64vEXT:_emscripten_glGetQueryObjecti64vEXT,emscripten_glGetQueryObjectivEXT:_emscripten_glGetQueryObjectivEXT,emscripten_glGetQueryObjectui64vEXT:_emscripten_glGetQueryObjectui64vEXT,emscripten_glGetQueryObjectuivEXT:_emscripten_glGetQueryObjectuivEXT,emscripten_glGetQueryivEXT:_emscripten_glGetQueryivEXT,emscripten_glGetRenderbufferParameteriv:_emscripten_glGetRenderbufferParameteriv,emscripten_glGetShaderInfoLog:_emscripten_glGetShaderInfoLog,emscripten_glGetShaderPrecisionFormat:_emscripten_glGetShaderPrecisionFormat,emscripten_glGetShaderSource:_emscripten_glGetShaderSource,emscripten_glGetShaderiv:_emscripten_glGetShaderiv,emscripten_glGetString:_emscripten_glGetString,emscripten_glGetTexParameterfv:_emscripten_glGetTexParameterfv,emscripten_glGetTexParameteriv:_emscripten_glGetTexParameteriv,emscripten_glGetUniformLocation:_emscripten_glGetUniformLocation,emscripten_glGetUniformfv:_emscripten_glGetUniformfv,emscripten_glGetUniformiv:_emscripten_glGetUniformiv,emscripten_glGetVertexAttribPointerv:_emscripten_glGetVertexAttribPointerv,emscripten_glGetVertexAttribfv:_emscripten_glGetVertexAttribfv,emscripten_glGetVertexAttribiv:_emscripten_glGetVertexAttribiv,emscripten_glHint:_emscripten_glHint,emscripten_glIsBuffer:_emscripten_glIsBuffer,emscripten_glIsEnabled:_emscripten_glIsEnabled,emscripten_glIsFramebuffer:_emscripten_glIsFramebuffer,emscripten_glIsProgram:_emscripten_glIsProgram,emscripten_glIsQueryEXT:_emscripten_glIsQueryEXT,emscripten_glIsRenderbuffer:_emscripten_glIsRenderbuffer,emscripten_glIsShader:_emscripten_glIsShader,emscripten_glIsTexture:_emscripten_glIsTexture,emscripten_glIsVertexArrayOES:_emscripten_glIsVertexArrayOES,emscripten_glLineWidth:_emscripten_glLineWidth,emscripten_glLinkProgram:_emscripten_glLinkProgram,emscripten_glPixelStorei:_emscripten_glPixelStorei,emscripten_glPolygonModeWEBGL:_emscripten_glPolygonModeWEBGL,emscripten_glPolygonOffset:_emscripten_glPolygonOffset,emscripten_glPolygonOffsetClampEXT:_emscripten_glPolygonOffsetClampEXT,emscripten_glQueryCounterEXT:_emscripten_glQueryCounterEXT,emscripten_glReadPixels:_emscripten_glReadPixels,emscripten_glReleaseShaderCompiler:_emscripten_glReleaseShaderCompiler,emscripten_glRenderbufferStorage:_emscripten_glRenderbufferStorage,emscripten_glSampleCoverage:_emscripten_glSampleCoverage,emscripten_glScissor:_emscripten_glScissor,emscripten_glShaderBinary:_emscripten_glShaderBinary,emscripten_glShaderSource:_emscripten_glShaderSource,emscripten_glStencilFunc:_emscripten_glStencilFunc,emscripten_glStencilFuncSeparate:_emscripten_glStencilFuncSeparate,emscripten_glStencilMask:_emscripten_glStencilMask,emscripten_glStencilMaskSeparate:_emscripten_glStencilMaskSeparate,emscripten_glStencilOp:_emscripten_glStencilOp,emscripten_glStencilOpSeparate:_emscripten_glStencilOpSeparate,emscripten_glTexImage2D:_emscripten_glTexImage2D,emscripten_glTexParameterf:_emscripten_glTexParameterf,emscripten_glTexParameterfv:_emscripten_glTexParameterfv,emscripten_glTexParameteri:_emscripten_glTexParameteri,emscripten_glTexParameteriv:_emscripten_glTexParameteriv,emscripten_glTexSubImage2D:_emscripten_glTexSubImage2D,emscripten_glUniform1f:_emscripten_glUniform1f,emscripten_glUniform1fv:_emscripten_glUniform1fv,emscripten_glUniform1i:_emscripten_glUniform1i,emscripten_glUniform1iv:_emscripten_glUniform1iv,emscripten_glUniform2f:_emscripten_glUniform2f,emscripten_glUniform2fv:_emscripten_glUniform2fv,emscripten_glUniform2i:_emscripten_glUniform2i,emscripten_glUniform2iv:_emscripten_glUniform2iv,emscripten_glUniform3f:_emscripten_glUniform3f,emscripten_glUniform3fv:_emscripten_glUniform3fv,emscripten_glUniform3i:_emscripten_glUniform3i,emscripten_glUniform3iv:_emscripten_glUniform3iv,emscripten_glUniform4f:_emscripten_glUniform4f,emscripten_glUniform4fv:_emscripten_glUniform4fv,emscripten_glUniform4i:_emscripten_glUniform4i,emscripten_glUniform4iv:_emscripten_glUniform4iv,emscripten_glUniformMatrix2fv:_emscripten_glUniformMatrix2fv,emscripten_glUniformMatrix3fv:_emscripten_glUniformMatrix3fv,emscripten_glUniformMatrix4fv:_emscripten_glUniformMatrix4fv,emscripten_glUseProgram:_emscripten_glUseProgram,emscripten_glValidateProgram:_emscripten_glValidateProgram,emscripten_glVertexAttrib1f:_emscripten_glVertexAttrib1f,emscripten_glVertexAttrib1fv:_emscripten_glVertexAttrib1fv,emscripten_glVertexAttrib2f:_emscripten_glVertexAttrib2f,emscripten_glVertexAttrib2fv:_emscripten_glVertexAttrib2fv,emscripten_glVertexAttrib3f:_emscripten_glVertexAttrib3f,emscripten_glVertexAttrib3fv:_emscripten_glVertexAttrib3fv,emscripten_glVertexAttrib4f:_emscripten_glVertexAttrib4f,emscripten_glVertexAttrib4fv:_emscripten_glVertexAttrib4fv,emscripten_glVertexAttribDivisorANGLE:_emscripten_glVertexAttribDivisorANGLE,emscripten_glVertexAttribPointer:_emscripten_glVertexAttribPointer,emscripten_glViewport:_emscripten_glViewport,emscripten_has_asyncify:_emscripten_has_asyncify,emscripten_request_fullscreen_strategy:_emscripten_request_fullscreen_strategy,emscripten_request_pointerlock:_emscripten_request_pointerlock,emscripten_resize_heap:_emscripten_resize_heap,emscripten_sample_gamepad_data:_emscripten_sample_gamepad_data,emscripten_set_beforeunload_callback_on_thread:_emscripten_set_beforeunload_callback_on_thread,emscripten_set_blur_callback_on_thread:_emscripten_set_blur_callback_on_thread,emscripten_set_canvas_element_size:_emscripten_set_canvas_element_size,emscripten_set_element_css_size:_emscripten_set_element_css_size,emscripten_set_focus_callback_on_thread:_emscripten_set_focus_callback_on_thread,emscripten_set_fullscreenchange_callback_on_thread:_emscripten_set_fullscreenchange_callback_on_thread,emscripten_set_gamepadconnected_callback_on_thread:_emscripten_set_gamepadconnected_callback_on_thread,emscripten_set_gamepaddisconnected_callback_on_thread:_emscripten_set_gamepaddisconnected_callback_on_thread,emscripten_set_keydown_callback_on_thread:_emscripten_set_keydown_callback_on_thread,emscripten_set_keypress_callback_on_thread:_emscripten_set_keypress_callback_on_thread,emscripten_set_keyup_callback_on_thread:_emscripten_set_keyup_callback_on_thread,emscripten_set_mousedown_callback_on_thread:_emscripten_set_mousedown_callback_on_thread,emscripten_set_mouseenter_callback_on_thread:_emscripten_set_mouseenter_callback_on_thread,emscripten_set_mouseleave_callback_on_thread:_emscripten_set_mouseleave_callback_on_thread,emscripten_set_mousemove_callback_on_thread:_emscripten_set_mousemove_callback_on_thread,emscripten_set_mouseup_callback_on_thread:_emscripten_set_mouseup_callback_on_thread,emscripten_set_pointerlockchange_callback_on_thread:_emscripten_set_pointerlockchange_callback_on_thread,emscripten_set_resize_callback_on_thread:_emscripten_set_resize_callback_on_thread,emscripten_set_touchcancel_callback_on_thread:_emscripten_set_touchcancel_callback_on_thread,emscripten_set_touchend_callback_on_thread:_emscripten_set_touchend_callback_on_thread,emscripten_set_touchmove_callback_on_thread:_emscripten_set_touchmove_callback_on_thread,emscripten_set_touchstart_callback_on_thread:_emscripten_set_touchstart_callback_on_thread,emscripten_set_visibilitychange_callback_on_thread:_emscripten_set_visibilitychange_callback_on_thread,emscripten_set_wheel_callback_on_thread:_emscripten_set_wheel_callback_on_thread,emscripten_set_window_title:_emscripten_set_window_title,emscripten_sleep:_emscripten_sleep,environ_get:_environ_get,environ_sizes_get:_environ_sizes_get,exit:_exit,fd_close:_fd_close,fd_fdstat_get:_fd_fdstat_get,fd_read:_fd_read,fd_seek:_fd_seek,fd_write:_fd_write};function callMain(args=[]){var entryFunction=_main,argc=(args.unshift(thisProgram),args.length),argv=stackAlloc(4*(argc+1)),argv_ptr=argv;args.forEach(arg=>{HEAPU32[argv_ptr>>2]=stringToUTF8OnStack(arg),argv_ptr+=4}),HEAPU32[argv_ptr>>2]=0;try{var ret=entryFunction(argc,argv);return exitJS(ret,!0),ret}catch(e){return handleException(e)}}function run(args=arguments_){function doRun(){Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),!Module.noInitialRun&&1&&callMain(args),postRun())}0<runDependencies||(preRun(),0<runDependencies)?dependenciesFulfilled=run:Module.setStatus?(Module.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>Module.setStatus(""),1),doRun()},1)):doRun()}function preInit(){if(Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);0<Module.preInit.length;)Module.preInit.shift()()}createWasm(),preInit(),run();
